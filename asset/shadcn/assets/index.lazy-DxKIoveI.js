import{j as t,d as te,Q as We,R as bt,B as L,V as qe,W as oe,X as Pe,Y as l,r as z,z as n,aj as on,ak as ln,al as cn,am as dn,an as un,Z as fn,_ as Ie,D as mn,E as pn,J as gn,K as hn,ag as xn,ah as wn,ai as vn,s as jn,a9 as bn,aa as yn,ab as Sn,ac as Cn,ad as ot,ae as lt,af as Nn,I as Ye,b as yt,t as St,$ as Dn,a0 as Tn,a1 as Rn,a2 as En,a3 as kn,F as Ct,e as Se,f as J,g as Q,h as ee,i as Ce,a4 as In,a8 as Pn,a5 as pe,ax as Mn,ay as On,az as An,aA as Fn,aB as $n,aC as Hn,aD as Vn,aE as _n,ao as Un,ap as Ln,aq as zn,ar as Bn,as as Wn,at as qn,au as Yn,aF as Kn,aG as Nt,aH as Xn,H as Gn,p as Jn,T as Qn,q as Zn,M as ea,c as ta}from"./index-0eFYUR5Q.js";import{C as ct}from"./checkbox-Cn_IRKGz.js";import{I as na,a as aa,d as ra,c as sa,b as ia,e as oa}from"./IconStopwatch-DEoe9O3z.js";import{A as dt,a as ut,C as la,E as ca,D as da,b as ua,c as fa,d as ma,e as pa,M as ga,P as ha,f as xa,g as wa}from"./react-icons.esm-DIx9kjBo.js";import{u as va,I as ja,a as ba,T as ya,b as Sa,c as He,d as Ca,f as ft,e as Na,g as mt,h as Da,i as Ta,j as Ra,k as Ea,l as ka,m as Ia,S as Pa,C as Ma}from"./table-qVdhj0Ns.js";import{S as Oa,a as Aa,b as Fa,c as $a,d as Ha}from"./select-DWhU4Ey6.js";import{P as Va,a as _a,b as Ua}from"./popover--BK19zoh.js";import{R as pt,a as me}from"./radio-group-xU-dua0M.js";import{I as La}from"./IconPlus-BPY3Ymsb.js";import"./index-BeJDzKql.js";const za=[{value:"Running",label:"Running"},{value:"Succeeded",label:"Succeeded"},{value:"Unknown",label:"Unknown"},{value:"Failed",label:"Failed"},{value:"Pending",label:"Pending"}],Dt=[{value:"Running",label:"Running",icon:na},{value:"Succeeded",label:"Succeeded",icon:aa},{value:"Unknown",label:"Unknown",icon:ra},{value:"Failed",label:"Failed",icon:sa},{value:"Pending",label:"Pending",icon:ia}],Ba=new Map([["Running","bg-teal-100/30 text-teal-900 dark:text-teal-200 border-teal-200"],["Failed","bg-neutral-300/40 border-neutral-300"],["Unknown","bg-sky-200/40 text-sky-900 dark:text-sky-100 border-sky-300"],["Successed","bg-destructive/10 dark:bg-destructive/50 text-destructive dark:text-primary border-destructive/10"],["Pending","bg-purple-200/40 text-purple-900 dark:text-purple-100 border-purple-300"]]);function X({column:e,title:a,className:r}){return e.getCanSort()?t.jsx("div",{className:te("flex items-center space-x-2",r),children:t.jsxs(We,{children:[t.jsx(bt,{asChild:!0,children:t.jsxs(L,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[t.jsx("span",{children:a}),e.getIsSorted()==="desc"?t.jsx(dt,{className:"ml-2 h-4 w-4"}):e.getIsSorted()==="asc"?t.jsx(ut,{className:"ml-2 h-4 w-4"}):t.jsx(la,{className:"ml-2 h-4 w-4"})]})}),t.jsxs(qe,{align:"start",children:[t.jsxs(oe,{onClick:()=>e.toggleSorting(!1),children:[t.jsx(ut,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),t.jsxs(oe,{onClick:()=>e.toggleSorting(!0),children:[t.jsx(dt,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),e.getCanHide()&&t.jsxs(t.Fragment,{children:[t.jsx(Pe,{}),t.jsxs(oe,{onClick:()=>e.toggleVisibility(!1),children:[t.jsx(ca,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})]})}):t.jsx("div",{className:te(r),children:a})}const Tt=l.createContext(null);function Wa({children:e}){const[a,r]=va(null),[i,o]=z.useState(null);return t.jsx(Tt,{value:{open:a,setOpen:r,currentRow:i,setCurrentRow:o},children:e})}const Ke=()=>{const e=l.useContext(Tt);if(!e)throw new Error("useTasks has to be used within <PodsContext>");return e};n.object({apiVersion:n.string(),kind:n.string().regex(/^Pod$/),metadata:n.object({name:n.string(),namespace:n.string().optional(),labels:n.record(n.string(),n.string()).optional(),annotations:n.record(n.string(),n.string()).optional(),uid:n.string(),creationTimestamp:n.string().optional()}),spec:n.object({containers:n.array(n.object({name:n.string(),image:n.string(),ports:n.array(n.object({containerPort:n.number()})).optional()})),restartPolicy:n.enum(["Always","OnFailure","Never"]).optional(),terminationGracePeriodSeconds:n.number().optional()}),status:n.object({phase:n.enum(["Pending","Running","Succeeded","Failed","Unknown"]).optional(),conditions:n.array(n.object({type:n.string(),status:n.string(),lastProbeTime:n.string().nullable().optional(),lastTransitionTime:n.string().optional(),reason:n.string().optional()})).optional(),hostIP:n.string().optional(),podIP:n.string().optional(),startTime:n.string().optional(),containerStatuses:n.array(n.object({name:n.string(),state:n.object({running:n.object({startedAt:n.string().optional()}).optional(),waiting:n.object({reason:n.string().optional(),message:n.string().optional()}).optional(),terminated:n.object({exitCode:n.number(),reason:n.string().optional(),message:n.string().optional(),startedAt:n.string().optional(),finishedAt:n.string().optional()}).optional()}).optional(),lastState:n.object({running:n.object({startedAt:n.string().optional()}).optional(),waiting:n.object({reason:n.string().optional(),message:n.string().optional()}).optional(),terminated:n.object({exitCode:n.number(),reason:n.string().optional(),message:n.string().optional(),startedAt:n.string().optional(),finishedAt:n.string().optional()}).optional()}).optional(),ready:n.boolean(),restartCount:n.number(),image:n.string(),imageID:n.string(),containerID:n.string().optional()})).optional()}).optional()});const qa=n.object({id:n.number(),hostip:n.string(),name:n.string(),namespace:n.string(),podip:n.string(),restart:n.number(),status:n.string(),statuss:n.object({phase:n.enum(["Pending","Running","Succeeded","Failed","Unknown"]).optional(),conditions:n.array(n.object({type:n.string(),status:n.string(),lastProbeTime:n.string().nullable().optional(),lastTransitionTime:n.string().optional(),reason:n.string().optional()})).optional(),hostIP:n.string().optional(),podIP:n.string().optional(),startTime:n.string().optional(),qosClass:n.string().optional(),containerStatuses:n.array(n.object({name:n.string(),state:n.object({running:n.object({startedAt:n.string().optional()}).optional(),waiting:n.object({reason:n.string().optional(),message:n.string().optional()}).optional(),terminated:n.object({exitCode:n.number(),reason:n.string().optional(),message:n.string().optional(),startedAt:n.string().optional(),finishedAt:n.string().optional()}).optional()}).optional(),lastState:n.object({running:n.object({startedAt:n.string().optional()}).optional(),waiting:n.object({reason:n.string().optional(),message:n.string().optional()}).optional(),terminated:n.object({exitCode:n.number(),reason:n.string().optional(),message:n.string().optional(),startedAt:n.string().optional(),finishedAt:n.string().optional()}).optional()}).optional(),ready:n.boolean(),restartCount:n.number(),image:n.string(),imageID:n.string(),containerID:n.string().optional()})).optional()}).optional(),createtime:n.string(),containerStatuses:n.array(n.object({name:n.string(),state:n.object({running:n.object({startedAt:n.string().optional()}).optional(),waiting:n.object({reason:n.string().optional(),message:n.string().optional()}).optional(),terminated:n.object({exitCode:n.number(),reason:n.string().optional(),message:n.string().optional(),finishedAt:n.string().optional()}).optional()}).optional(),ready:n.boolean(),restartCount:n.number(),image:n.string(),imageID:n.string(),containerID:n.string().optional()})).optional(),controller:n.array(n.object({apiVersion:n.string(),blockOwnerDeletion:n.boolean().optional(),controller:n.boolean().optional(),name:n.string(),kind:n.string(),uid:n.string()})).optional()});function Ya({row:e}){const a=qa.parse(e.original),{setOpen:r,setCurrentRow:i}=Ke();return t.jsxs(We,{modal:!1,children:[t.jsx(bt,{asChild:!0,children:t.jsxs(L,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[t.jsx(da,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Open menu"})]})}),t.jsxs(qe,{align:"end",className:"w-[160px]",children:[t.jsx(oe,{onClick:()=>{i(a),r("update")},children:"Edit"}),t.jsx(oe,{onClick:()=>{i(a),r("terminal")},children:"打开终端"}),t.jsx(oe,{disabled:!0,children:"Make a copy"}),t.jsx(oe,{disabled:!0,children:"Favorite"}),t.jsx(Pe,{}),t.jsxs(on,{children:[t.jsx(ln,{children:"Labels"}),t.jsx(cn,{children:t.jsx(dn,{value:a.name,children:za.map(o=>t.jsx(un,{value:o.value,children:o.label},o.value))})})]}),t.jsx(Pe,{}),t.jsxs(oe,{onClick:()=>{i(a),r("delete")},children:["Delete",t.jsx(fn,{children:t.jsx(ja,{size:16})})]})]})]})}const Ka=[{id:"select",header:({table:e})=>t.jsx(ct,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>e.toggleAllPageRowsSelected(!!a),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:e})=>t.jsx(ct,{checked:e.getIsSelected(),onCheckedChange:a=>e.toggleSelected(!!a),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:({column:e})=>t.jsx(X,{column:e,title:"Id"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("id")}),enableSorting:!0,enableHiding:!0},{accessorKey:"status",header:({column:e})=>t.jsx(X,{column:e,title:"状态"}),cell:({row:e})=>{if(!Dt.find(i=>i.value===e.getValue("status")))return null;const r=Ba.get(e.getValue("status"));return t.jsx("div",{className:"flex space-x-2",children:t.jsx(Ie,{variant:"outline",className:te("capitalize",r),children:e.getValue("status")})})},filterFn:(e,a,r)=>r.includes(e.getValue(a))},{accessorKey:"name",header:({column:e})=>t.jsx(X,{column:e,title:"名称"}),cell:({row:e})=>t.jsx("div",{className:"w-48 overflow-hidden text-ellipsis whitespace-nowrap hover:overflow-visible ",children:e.getValue("name")}),enableSorting:!1,enableHiding:!1},{accessorKey:"namespace",header:({column:e})=>t.jsx(X,{column:e,title:"命名空间"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("namespace")})},{accessorKey:"images",header:({column:e})=>t.jsx(X,{column:e,title:"镜像"}),cell:({row:e})=>{const r=(e.original.containerStatuses||[]).map(i=>i.image);return r.length===0?t.jsx("div",{children:"-"}):t.jsxs("div",{className:"flex items-center",children:[t.jsx(mn,{children:t.jsxs(pn,{children:[t.jsx(gn,{children:t.jsx("div",{className:"max-w-[200px] truncate",children:r[0]})}),t.jsx(hn,{className:"max-w-[400px] whitespace-pre-wrap",children:r.map((i,o)=>t.jsx("div",{children:i},o))})]})}),r.length>1&&t.jsxs("span",{className:"ml-1 text-xs text-muted-foreground",children:["+",r.length-1," more"]})]})},enableHiding:!0},{accessorKey:"ready",header:({column:e})=>t.jsx(X,{column:e,title:"就绪容器"}),cell:({row:e})=>{var o,s;const a=((o=e.original.containerStatuses)==null?void 0:o.length)||0,r=((s=e.original.containerStatuses)==null?void 0:s.filter(c=>c.ready).length)||0,i=()=>{const c=[];for(let d=0;d<r;d++)c.push(t.jsx("span",{className:"bg-green-500 w-3 h-3 inline-block mr-1"},d));for(let d=0;d<a-r;d++)c.push(t.jsx("span",{className:"bg-gray-300 w-3 h-3 inline-block mr-1"},d+r));return c};return t.jsx("div",{className:"w-fit",children:i()})}},{accessorKey:"restart",header:({column:e})=>t.jsx(X,{column:e,title:"重启次数"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("restart")})},{id:"controller",header:({column:e})=>t.jsx(X,{column:e,title:"控制器"}),cell:({row:e})=>{var a,r;return t.jsx("div",{className:"w-fit",children:(r=(a=e.original.controller)==null?void 0:a[0])==null?void 0:r.kind})}},{id:"qos",header:({column:e})=>t.jsx(X,{column:e,title:"QoS"}),cell:({row:e})=>{var a;return t.jsx("div",{className:"w-fit",children:(a=e.original.statuss)==null?void 0:a.qosClass})}},{accessorKey:"podip",header:({column:e})=>t.jsx(X,{column:e,title:"容器IP"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("podip")})},{accessorKey:"hostip",header:({column:e})=>t.jsx(X,{column:e,title:"主机IP"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("hostip")})},{accessorKey:"createtime",header:({column:e})=>t.jsx(X,{column:e,title:"运行时间"}),cell:({row:e})=>{const a=S=>{const m=Date.now()-S,u=24*3600*1e3,b=3600*1e3,A=60*1e3,R=Math.floor(m/u),F=m%u,v=Math.floor(F/b),P=F%b,M=Math.floor(P/A),h=P%A,q=Math.round(h/1e3);return{days:R,hours:v,minutes:M,seconds:q}},r=(S,g,m,u)=>{let b="";return S>0&&(b+=`${S}d `),g>0&&(b+=`${g}h `),m>0&&(b+=`${m}m `),u>0&&(b+=`${u}s`),b},i=new Date(e.getValue("createtime")).getTime(),{days:o,hours:s,minutes:c,seconds:d}=a(i),j=r(o,s,c,d);return t.jsx("div",{className:"w-fit",children:j})}},{id:"actions",cell:({row:e})=>t.jsx(Ya,{row:e})}];function Xa({table:e}){return t.jsxs("div",{className:"flex items-center justify-between overflow-clip px-2",style:{overflowClipMargin:1},children:[t.jsxs("div",{className:"hidden flex-1 text-sm text-muted-foreground sm:block",children:[e.getFilteredSelectedRowModel().rows.length," of"," ",e.getFilteredRowModel().rows.length," row(s) selected."]}),t.jsxs("div",{className:"flex items-center sm:space-x-6 lg:space-x-8",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"hidden text-sm font-medium sm:block",children:"Rows per page"}),t.jsxs(Oa,{value:`${e.getState().pagination.pageSize}`,onValueChange:a=>{e.setPageSize(Number(a))},children:[t.jsx(Aa,{className:"h-8 w-[70px]",children:t.jsx(Fa,{placeholder:e.getState().pagination.pageSize})}),t.jsx($a,{side:"top",children:[10,20,30,40,50].map(a=>t.jsx(Ha,{value:`${a}`,children:a},a))})]})]}),t.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",e.getState().pagination.pageIndex+1," of"," ",e.getPageCount()]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(L,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to first page"}),t.jsx(ua,{className:"h-4 w-4"})]}),t.jsxs(L,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to previous page"}),t.jsx(fa,{className:"h-4 w-4"})]}),t.jsxs(L,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to next page"}),t.jsx(ma,{className:"h-4 w-4"})]}),t.jsxs(L,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to last page"}),t.jsx(pa,{className:"h-4 w-4"})]})]})]})]})}function Ga({table:e}){return t.jsxs(We,{modal:!1,children:[t.jsx(xn,{asChild:!0,children:t.jsxs(L,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[t.jsx(ga,{className:"mr-2 h-4 w-4"}),"View"]})}),t.jsxs(qe,{align:"end",className:"w-[150px]",children:[t.jsx(wn,{children:"Toggle columns"}),t.jsx(Pe,{}),e.getAllColumns().filter(a=>typeof a.accessorFn<"u"&&a.getCanHide()).map(a=>t.jsx(vn,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:r=>a.toggleVisibility(!!r),children:a.id},a.id))]})]})}function gt({column:e,title:a,options:r}){const i=e==null?void 0:e.getFacetedUniqueValues(),o=new Set(e==null?void 0:e.getFilterValue());return t.jsxs(Va,{children:[t.jsx(_a,{asChild:!0,children:t.jsxs(L,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[t.jsx(ha,{className:"mr-2 h-4 w-4"}),a,(o==null?void 0:o.size)>0&&t.jsxs(t.Fragment,{children:[t.jsx(jn,{orientation:"vertical",className:"mx-2 h-4"}),t.jsx(Ie,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:o.size}),t.jsx("div",{className:"hidden space-x-1 lg:flex",children:o.size>2?t.jsxs(Ie,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[o.size," selected"]}):r.filter(s=>o.has(s.value)).map(s=>t.jsx(Ie,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:s.label},s.value))})]})]})}),t.jsx(Ua,{className:"w-[200px] p-0",align:"start",children:t.jsxs(bn,{children:[t.jsx(yn,{placeholder:a}),t.jsxs(Sn,{children:[t.jsx(Cn,{children:"No results found."}),t.jsx(ot,{children:r.map(s=>{const c=o.has(s.value);return t.jsxs(lt,{onSelect:()=>{c?o.delete(s.value):o.add(s.value);const d=Array.from(o);e==null||e.setFilterValue(d.length?d:void 0)},children:[t.jsx("div",{className:te("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",c?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:t.jsx(xa,{className:te("h-4 w-4")})}),s.icon&&t.jsx(s.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),t.jsx("span",{children:s.label}),(i==null?void 0:i.get(s.value))&&t.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:i.get(s.value)})]},s.value)})}),o.size>0&&t.jsxs(t.Fragment,{children:[t.jsx(Nn,{}),t.jsx(ot,{children:t.jsx(lt,{onSelect:()=>e==null?void 0:e.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function Ja({table:e,originalData:a}){var o;const r=e.getState().columnFilters.length>0,i=[...new Set(a.map(s=>s.namespace))].map(s=>({value:s,label:s}));return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex flex-1 flex-col-reverse items-start gap-y-2 sm:flex-row sm:items-center sm:space-x-2",children:[t.jsx(Ye,{placeholder:"Filter tasks...",value:((o=e.getColumn("name"))==null?void 0:o.getFilterValue())??"",onChange:s=>{var c;return(c=e.getColumn("name"))==null?void 0:c.setFilterValue(s.target.value)},className:"h-8 w-[150px] lg:w-[250px]"}),t.jsxs("div",{className:"flex gap-x-2",children:[e.getColumn("status")&&t.jsx(gt,{column:e.getColumn("status"),title:"Status",options:Dt}),e.getColumn("namespace")&&t.jsx(gt,{column:e.getColumn("namespace"),title:"Namespace",options:i})]}),r&&t.jsxs(L,{variant:"ghost",onClick:()=>e.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",t.jsx(wa,{className:"ml-2 h-4 w-4"})]})]}),t.jsx(Ga,{table:e})]})}function Qa({columns:e,data:a}){var m;const[r,i]=z.useState({}),[o,s]=z.useState({}),[c,d]=z.useState([]),[j,S]=z.useState([]),g=ba({data:a,columns:e,state:{sorting:j,columnVisibility:o,rowSelection:r,columnFilters:c},enableRowSelection:!0,onRowSelectionChange:i,onSortingChange:S,onColumnFiltersChange:d,onColumnVisibilityChange:s,getCoreRowModel:Da(),getFilteredRowModel:Ta(),getPaginationRowModel:Ra(),getSortedRowModel:Ea(),getFacetedRowModel:ka(),getFacetedUniqueValues:Ia()});return t.jsxs("div",{className:"space-y-4",children:[t.jsx(Ja,{table:g,originalData:a}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(ya,{children:[t.jsx(Sa,{children:g.getHeaderGroups().map(u=>t.jsx(He,{children:u.headers.map(b=>t.jsx(Ca,{colSpan:b.colSpan,children:b.isPlaceholder?null:ft(b.column.columnDef.header,b.getContext())},b.id))},u.id))}),t.jsx(Na,{children:(m=g.getRowModel().rows)!=null&&m.length?g.getRowModel().rows.map(u=>t.jsx(He,{"data-state":u.getIsSelected()&&"selected",children:u.getVisibleCells().map(b=>t.jsx(mt,{children:ft(b.column.columnDef.cell,b.getContext())},b.id))},u.id)):t.jsx(He,{children:t.jsx(mt,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})}),t.jsx(Xa,{table:g})]})}const Za=n.object({file:n.instanceof(FileList).refine(e=>e.length>0,{message:"Please upload a file"}).refine(e=>{var a;return["text/csv"].includes((a=e==null?void 0:e[0])==null?void 0:a.type)},"Please upload csv format.")});function er({open:e,onOpenChange:a}){const r=yt({resolver:St(Za),defaultValues:{file:void 0}}),i=r.register("file"),o=()=>{const s=r.getValues("file");if(s&&s[0]){const c={name:s[0].name,size:s[0].size,type:s[0].type};pe({title:"You have imported the following file:",description:t.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:t.jsx("code",{className:"text-white",children:JSON.stringify(c,null,2)})})})}a(!1)};return t.jsx(Dn,{open:e,onOpenChange:s=>{a(s),r.reset()},children:t.jsxs(Tn,{className:"gap-2 sm:max-w-sm",children:[t.jsxs(Rn,{className:"text-left",children:[t.jsx(En,{children:"Import Tasks"}),t.jsx(kn,{children:"Import tasks quickly from a CSV file."})]}),t.jsx(Ct,{...r,children:t.jsx("form",{id:"task-import-form",onSubmit:r.handleSubmit(o),children:t.jsx(Se,{control:r.control,name:"file",render:()=>t.jsxs(J,{className:"mb-2 space-y-1",children:[t.jsx(Q,{children:"File"}),t.jsx(ee,{children:t.jsx(Ye,{type:"file",...i,className:"h-8"})}),t.jsx(Ce,{})]})})})}),t.jsxs(In,{className:"gap-2 sm:gap-0",children:[t.jsx(Pn,{asChild:!0,children:t.jsx(L,{variant:"outline",children:"Close"})}),t.jsx(L,{type:"submit",form:"task-import-form",children:"Import"})]})]})})}function tr(e){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",a.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Rt=l.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ge=()=>{const e=l.useContext(Rt);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};tr(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function nr(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function ar(){return Xe(/^Mac/)}function rr(){return Xe(/^iPhone/)}function ht(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function sr(){return Xe(/^iPad/)||ar()&&navigator.maxTouchPoints>1}function Et(){return rr()||sr()}function Xe(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const ir=24,or=typeof window<"u"?z.useLayoutEffect:z.useEffect;function xt(...e){return(...a)=>{for(let r of e)typeof r=="function"&&r(...a)}}const Ve=typeof document<"u"&&window.visualViewport;function wt(e){let a=window.getComputedStyle(e);return/(auto|scroll)/.test(a.overflow+a.overflowX+a.overflowY)}function kt(e){for(wt(e)&&(e=e.parentElement);e&&!wt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const lr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Re=0,_e;function cr(e={}){let{isDisabled:a}=e;or(()=>{if(!a)return Re++,Re===1&&Et()&&(_e=dr()),()=>{Re--,Re===0&&(_e==null||_e())}},[a])}function dr(){let e,a=0,r=m=>{e=kt(m.target),!(e===document.documentElement&&e===document.body)&&(a=m.changedTouches[0].pageY)},i=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let u=m.changedTouches[0].pageY,b=e.scrollTop,A=e.scrollHeight-e.clientHeight;A!==0&&((b<=0&&u>a||b>=A&&u<a)&&m.preventDefault(),a=u)},o=m=>{let u=m.target;ze(u)&&u!==document.activeElement&&(m.preventDefault(),u.style.transform="translateY(-2000px)",u.focus(),requestAnimationFrame(()=>{u.style.transform=""}))},s=m=>{let u=m.target;ze(u)&&(u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",Ve&&(Ve.height<window.innerHeight?requestAnimationFrame(()=>{vt(u)}):Ve.addEventListener("resize",()=>vt(u),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,j=window.pageYOffset,S=xt(ur(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=xt(be(document,"touchstart",r,{passive:!1,capture:!0}),be(document,"touchmove",i,{passive:!1,capture:!0}),be(document,"touchend",o,{passive:!1,capture:!0}),be(document,"focus",s,!0),be(window,"scroll",c));return()=>{S(),g(),window.scrollTo(d,j)}}function ur(e,a,r){let i=e.style[a];return e.style[a]=r,()=>{e.style[a]=i}}function be(e,a,r,i){return e.addEventListener(a,r,i),()=>{e.removeEventListener(a,r,i)}}function vt(e){let a=document.scrollingElement||document.documentElement;for(;e&&e!==a;){let r=kt(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let i=r.getBoundingClientRect().top,o=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;const c=r.getBoundingClientRect().bottom+ir;s>c&&(r.scrollTop+=o-i)}e=r.parentElement}}function ze(e){return e instanceof HTMLInputElement&&!lr.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function fr(e,a){typeof e=="function"?e(a):e!=null&&(e.current=a)}function mr(...e){return a=>e.forEach(r=>fr(r,a))}function It(...e){return z.useCallback(mr(...e),e)}const Pt=new WeakMap;function O(e,a,r=!1){if(!e||!(e instanceof HTMLElement))return;let i={};Object.entries(a).forEach(([o,s])=>{if(o.startsWith("--")){e.style.setProperty(o,s);return}i[o]=e.style[o],e.style[o]=s}),!r&&Pt.set(e,i)}function pr(e,a){if(!e||!(e instanceof HTMLElement))return;let r=Pt.get(e);r&&(e.style[a]=r[a])}const I=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ee(e,a){if(!e)return null;const r=window.getComputedStyle(e),i=r.transform||r.webkitTransform||r.mozTransform;let o=i.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[I(a)?13:12]):(o=i.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[I(a)?5:4]):null)}function gr(e){return 8*(Math.log(e+1)-2)}function Ue(e,a){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,a),()=>{e.style.cssText=r}}function hr(...e){return(...a)=>{for(const r of e)typeof r=="function"&&r(...a)}}const E={DURATION:.5,EASE:[.32,.72,0,1]},Mt=.4,xr=.25,wr=100,Ot=8,ke=16,Be=26,Le="vaul-dragging";function At(e){const a=l.useRef(e);return l.useEffect(()=>{a.current=e}),l.useMemo(()=>(...r)=>a.current==null?void 0:a.current.call(a,...r),[])}function vr({defaultProp:e,onChange:a}){const r=l.useState(e),[i]=r,o=l.useRef(i),s=At(a);return l.useEffect(()=>{o.current!==i&&(s(i),o.current=i)},[i,o,s]),r}function Ft({prop:e,defaultProp:a,onChange:r=()=>{}}){const[i,o]=vr({defaultProp:a,onChange:r}),s=e!==void 0,c=s?e:i,d=At(r),j=l.useCallback(S=>{if(s){const m=typeof S=="function"?S(e):S;m!==e&&d(m)}else o(S)},[s,e,o,d]);return[c,j]}function jr({activeSnapPointProp:e,setActiveSnapPointProp:a,snapPoints:r,drawerRef:i,overlayRef:o,fadeFromIndex:s,onSnapPointChange:c,direction:d="bottom",container:j,snapToSequentialPoint:S}){const[g,m]=Ft({prop:e,defaultProp:r==null?void 0:r[0],onChange:a}),[u,b]=l.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);l.useEffect(()=>{function x(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const A=l.useMemo(()=>g===(r==null?void 0:r[r.length-1])||null,[r,g]),R=l.useMemo(()=>{var x;return(x=r==null?void 0:r.findIndex(N=>N===g))!=null?x:null},[r,g]),F=r&&r.length>0&&(s||s===0)&&!Number.isNaN(s)&&r[s]===g||!r,v=l.useMemo(()=>{const x=j?{width:j.getBoundingClientRect().width,height:j.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var N;return(N=r==null?void 0:r.map(C=>{const V=typeof C=="string";let $=0;if(V&&($=parseInt(C,10)),I(d)){const p=V?$:u?C*x.height:0;return u?d==="bottom"?x.height-p:-x.height+p:p}const Y=V?$:u?C*x.width:0;return u?d==="right"?x.width-Y:-x.width+Y:Y}))!=null?N:[]},[r,u,j]),P=l.useMemo(()=>R!==null?v==null?void 0:v[R]:null,[v,R]),M=l.useCallback(x=>{var N;const C=(N=v==null?void 0:v.findIndex(V=>V===x))!=null?N:null;c(C),O(i.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:I(d)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`}),v&&C!==v.length-1&&s!==void 0&&C!==s&&C<s?O(o.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"0"}):O(o.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"1"}),m(r==null?void 0:r[Math.max(C,0)])},[i.current,r,v,s,o,m]);l.useEffect(()=>{if(g||e){var x;const N=(x=r==null?void 0:r.findIndex(C=>C===e||C===g))!=null?x:-1;v&&N!==-1&&typeof v[N]=="number"&&M(v[N])}},[g,e,r,v,M]);function h({draggedDistance:x,closeDrawer:N,velocity:C,dismissible:V}){if(s===void 0)return;const $=d==="bottom"||d==="right"?(P??0)-x:(P??0)+x,Y=R===s-1,p=R===0,W=x>0;if(Y&&O(o.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),!S&&C>2&&!W){V?N():M(v[0]);return}if(!S&&C>2&&W&&v&&r){M(v[r.length-1]);return}const _=v==null?void 0:v.reduce((H,ne)=>typeof H!="number"||typeof ne!="number"?H:Math.abs(ne-$)<Math.abs(H-$)?ne:H),K=I(d)?window.innerHeight:window.innerWidth;if(C>Mt&&Math.abs(x)<K*.4){const H=W?1:-1;if(H>0&&A&&r){M(v[r.length-1]);return}if(p&&H<0&&V&&N(),R===null)return;M(v[R+H]);return}M(_)}function q({draggedDistance:x}){if(P===null)return;const N=d==="bottom"||d==="right"?P-x:P+x;(d==="bottom"||d==="right")&&N<v[v.length-1]||(d==="top"||d==="left")&&N>v[v.length-1]||O(i.current,{transform:I(d)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})}function le(x,N){if(!r||typeof R!="number"||!v||s===void 0)return null;const C=R===s-1;if(R>=s&&N)return 0;if(C&&!N)return 1;if(!F&&!C)return null;const $=C?R+1:R-1,Y=C?v[$]-v[$-1]:v[$+1]-v[$],p=x/Math.abs(Y);return C?1-p:p}return{isLastSnapPoint:A,activeSnapPoint:g,shouldFade:F,getPercentageDragged:le,setActiveSnapPoint:m,activeSnapPointIndex:R,onRelease:h,onDrag:q,snapPointsOffset:v}}const br=()=>()=>{};function yr(){const{direction:e,isOpen:a,shouldScaleBackground:r,setBackgroundColorOnScale:i,noBodyStyles:o}=ge(),s=l.useRef(null),c=z.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-Be)/window.innerWidth}l.useEffect(()=>{if(a&&r){s.current&&clearTimeout(s.current);const j=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!j)return;hr(i&&!o?Ue(document.body,{background:"black"}):br,Ue(j,{transformOrigin:I(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${E.DURATION}s`,transitionTimingFunction:`cubic-bezier(${E.EASE.join(",")})`}));const S=Ue(j,{borderRadius:`${Ot}px`,overflow:"hidden",...I(e)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{S(),s.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},E.DURATION*1e3)}}},[a,r,c])}let ye=null;function Sr({isOpen:e,modal:a,nested:r,hasBeenOpened:i,preventScrollRestoration:o,noBodyStyles:s}){const[c,d]=l.useState(()=>typeof window<"u"?window.location.href:""),j=l.useRef(0),S=l.useCallback(()=>{if(ht()&&ye===null&&e&&!s){ye={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:u}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-j.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=u-window.innerHeight;b&&j.current>=u&&(document.body.style.top=`${-(j.current+b)}px`)}),300)}},[e]),g=l.useCallback(()=>{if(ht()&&ye!==null&&!s){const m=-parseInt(document.body.style.top,10),u=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ye),window.requestAnimationFrame(()=>{if(o&&c!==window.location.href){d(window.location.href);return}window.scrollTo(u,m)}),ye=null}},[c]);return l.useEffect(()=>{function m(){j.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),l.useEffect(()=>{if(a)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||g()}},[a,g]),l.useEffect(()=>{r||!i||(e?(!window.matchMedia("(display-mode: standalone)").matches&&S(),a||window.setTimeout(()=>{g()},500)):g())},[e,i,c,a,r,S,g]),{restorePositionSetting:g}}function $t({open:e,onOpenChange:a,children:r,onDrag:i,onRelease:o,snapPoints:s,shouldScaleBackground:c=!1,setBackgroundColorOnScale:d=!0,closeThreshold:j=xr,scrollLockTimeout:S=wr,dismissible:g=!0,handleOnly:m=!1,fadeFromIndex:u=s&&s.length-1,activeSnapPoint:b,setActiveSnapPoint:A,fixed:R,modal:F=!0,onClose:v,nested:P,noBodyStyles:M=!1,direction:h="bottom",defaultOpen:q=!1,disablePreventScroll:le=!0,snapToSequentialPoint:x=!1,preventScrollRestoration:N=!1,repositionInputs:C=!0,onAnimationEnd:V,container:$,autoFocus:Y=!1}){var p,W;const[_=!1,K]=Ft({defaultProp:q,prop:e,onChange:f=>{a==null||a(f),!f&&!P&&Qt(),setTimeout(()=>{V==null||V(f)},E.DURATION*1e3),f&&!F&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),f||(document.body.style.pointerEvents="auto")}}),[H,ne]=l.useState(!1),[re,he]=l.useState(!1),[qt,Je]=l.useState(!1),de=l.useRef(null),Ne=l.useRef(null),Me=l.useRef(null),Oe=l.useRef(null),xe=l.useRef(null),we=l.useRef(!1),Ae=l.useRef(null),Fe=l.useRef(0),ue=l.useRef(!1),Qe=l.useRef(!q),Ze=l.useRef(0),w=l.useRef(null),et=l.useRef(((p=w.current)==null?void 0:p.getBoundingClientRect().height)||0),tt=l.useRef(((W=w.current)==null?void 0:W.getBoundingClientRect().width)||0),$e=l.useRef(0),Yt=l.useCallback(f=>{s&&f===ve.length-1&&(Ne.current=new Date)},[]),{activeSnapPoint:Kt,activeSnapPointIndex:fe,setActiveSnapPoint:nt,onRelease:Xt,snapPointsOffset:ve,onDrag:Gt,shouldFade:at,getPercentageDragged:Jt}=jr({snapPoints:s,activeSnapPointProp:b,setActiveSnapPointProp:A,drawerRef:w,fadeFromIndex:u,overlayRef:de,onSnapPointChange:Yt,direction:h,container:$,snapToSequentialPoint:x});cr({isDisabled:!_||re||!F||qt||!H||!C||!le});const{restorePositionSetting:Qt}=Sr({isOpen:_,modal:F,nested:P??!1,hasBeenOpened:H,preventScrollRestoration:N,noBodyStyles:M});function De(){return(window.innerWidth-Be)/window.innerWidth}function Zt(f){var D,T;!g&&!s||w.current&&!w.current.contains(f.target)||(et.current=((D=w.current)==null?void 0:D.getBoundingClientRect().height)||0,tt.current=((T=w.current)==null?void 0:T.getBoundingClientRect().width)||0,he(!0),Me.current=new Date,Et()&&window.addEventListener("touchend",()=>we.current=!1,{once:!0}),f.target.setPointerCapture(f.pointerId),Fe.current=I(h)?f.pageY:f.pageX)}function rt(f,D){var T;let y=f;const k=(T=window.getSelection())==null?void 0:T.toString(),B=w.current?Ee(w.current,h):null,U=new Date;if(y.tagName==="SELECT"||y.hasAttribute("data-vaul-no-drag")||y.closest("[data-vaul-no-drag]"))return!1;if(h==="right"||h==="left")return!0;if(Ne.current&&U.getTime()-Ne.current.getTime()<500)return!1;if(B!==null&&(h==="bottom"?B>0:B<0))return!0;if(k&&k.length>0)return!1;if(xe.current&&U.getTime()-xe.current.getTime()<S&&B===0||D)return xe.current=U,!1;for(;y;){if(y.scrollHeight>y.clientHeight){if(y.scrollTop!==0)return xe.current=new Date,!1;if(y.getAttribute("role")==="dialog")return!0}y=y.parentNode}return!0}function en(f){if(w.current&&re){const D=h==="bottom"||h==="right"?1:-1,T=(Fe.current-(I(h)?f.pageY:f.pageX))*D,y=T>0,k=s&&!g&&!y;if(k&&fe===0)return;const B=Math.abs(T),U=document.querySelector("[data-vaul-drawer-wrapper]"),se=h==="bottom"||h==="top"?et.current:tt.current;let G=B/se;const ce=Jt(B,y);if(ce!==null&&(G=ce),k&&G>=1||!we.current&&!rt(f.target,y))return;if(w.current.classList.add(Le),we.current=!0,O(w.current,{transition:"none"}),O(de.current,{transition:"none"}),s&&Gt({draggedDistance:T}),y&&!s){const Z=gr(T),Te=Math.min(Z*-1,0)*D;O(w.current,{transform:I(h)?`translate3d(0, ${Te}px, 0)`:`translate3d(${Te}px, 0, 0)`});return}const ie=1-G;if((at||u&&fe===u-1)&&(i==null||i(f,G),O(de.current,{opacity:`${ie}`,transition:"none"},!0)),U&&de.current&&c){const Z=Math.min(De()+G*(1-De()),1),Te=8-G*8,it=Math.max(0,14-G*14);O(U,{borderRadius:`${Te}px`,transform:I(h)?`scale(${Z}) translate3d(0, ${it}px, 0)`:`scale(${Z}) translate3d(${it}px, 0, 0)`,transition:"none"},!0)}if(!s){const Z=B*D;O(w.current,{transform:I(h)?`translate3d(0, ${Z}px, 0)`:`translate3d(${Z}px, 0, 0)`})}}}l.useEffect(()=>{window.requestAnimationFrame(()=>{Qe.current=!0})},[]),l.useEffect(()=>{var f;function D(){if(!w.current||!C)return;const T=document.activeElement;if(ze(T)||ue.current){var y;const k=((y=window.visualViewport)==null?void 0:y.height)||0,B=window.innerHeight;let U=B-k;const se=w.current.getBoundingClientRect().height||0,G=se>B*.8;$e.current||($e.current=se);const ce=w.current.getBoundingClientRect().top;if(Math.abs(Ze.current-U)>60&&(ue.current=!ue.current),s&&s.length>0&&ve&&fe){const ie=ve[fe]||0;U+=ie}if(Ze.current=U,se>k||ue.current){const ie=w.current.getBoundingClientRect().height;let Z=ie;ie>k&&(Z=k-(G?ce:Be)),R?w.current.style.height=`${ie-Math.max(U,0)}px`:w.current.style.height=`${Math.max(Z,k-ce)}px`}else nr()||(w.current.style.height=`${$e.current}px`);s&&s.length>0&&!ue.current?w.current.style.bottom="0px":w.current.style.bottom=`${Math.max(U,0)}px`}}return(f=window.visualViewport)==null||f.addEventListener("resize",D),()=>{var T;return(T=window.visualViewport)==null?void 0:T.removeEventListener("resize",D)}},[fe,s,ve]);function je(f){tn(),v==null||v(),f||K(!1),setTimeout(()=>{s&&nt(s[0])},E.DURATION*1e3)}function st(){if(!w.current)return;const f=document.querySelector("[data-vaul-drawer-wrapper]"),D=Ee(w.current,h);O(w.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),O(de.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"1"}),c&&D&&D>0&&_&&O(f,{borderRadius:`${Ot}px`,overflow:"hidden",...I(h)?{transform:`scale(${De()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${De()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${E.DURATION}s`,transitionTimingFunction:`cubic-bezier(${E.EASE.join(",")})`},!0)}function tn(){!re||!w.current||(w.current.classList.remove(Le),we.current=!1,he(!1),Oe.current=new Date)}function nn(f){if(!re||!w.current)return;w.current.classList.remove(Le),we.current=!1,he(!1),Oe.current=new Date;const D=Ee(w.current,h);if(!f||!rt(f.target,!1)||!D||Number.isNaN(D)||Me.current===null)return;const T=Oe.current.getTime()-Me.current.getTime(),y=Fe.current-(I(h)?f.pageY:f.pageX),k=Math.abs(y)/T;if(k>.05&&(Je(!0),setTimeout(()=>{Je(!1)},200)),s){Xt({draggedDistance:y*(h==="bottom"||h==="right"?1:-1),closeDrawer:je,velocity:k,dismissible:g}),o==null||o(f,!0);return}if(h==="bottom"||h==="right"?y>0:y<0){st(),o==null||o(f,!0);return}if(k>Mt){je(),o==null||o(f,!1);return}var B;const U=Math.min((B=w.current.getBoundingClientRect().height)!=null?B:0,window.innerHeight);var se;const G=Math.min((se=w.current.getBoundingClientRect().width)!=null?se:0,window.innerWidth),ce=h==="left"||h==="right";if(Math.abs(D)>=(ce?G:U)*j){je(),o==null||o(f,!1);return}o==null||o(f,!0),st()}l.useEffect(()=>(_&&(O(document.documentElement,{scrollBehavior:"auto"}),Ne.current=new Date),()=>{pr(document.documentElement,"scrollBehavior")}),[_]);function an(f){const D=f?(window.innerWidth-ke)/window.innerWidth:1,T=f?-16:0;Ae.current&&window.clearTimeout(Ae.current),O(w.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:I(h)?`scale(${D}) translate3d(0, ${T}px, 0)`:`scale(${D}) translate3d(${T}px, 0, 0)`}),!f&&w.current&&(Ae.current=setTimeout(()=>{const y=Ee(w.current,h);O(w.current,{transition:"none",transform:I(h)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`})},500))}function rn(f,D){if(D<0)return;const T=(window.innerWidth-ke)/window.innerWidth,y=T+D*(1-T),k=-16+D*ke;O(w.current,{transform:I(h)?`scale(${y}) translate3d(0, ${k}px, 0)`:`scale(${y}) translate3d(${k}px, 0, 0)`,transition:"none"})}function sn(f,D){const T=I(h)?window.innerHeight:window.innerWidth,y=D?(T-ke)/T:1,k=D?-16:0;D&&O(w.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:I(h)?`scale(${y}) translate3d(0, ${k}px, 0)`:`scale(${y}) translate3d(${k}px, 0, 0)`})}return l.useEffect(()=>{F||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[F]),l.createElement(Vn,{defaultOpen:q,onOpenChange:f=>{!g&&!f||(f?ne(!0):je(!0),K(f))},open:_},l.createElement(Rt.Provider,{value:{activeSnapPoint:Kt,snapPoints:s,setActiveSnapPoint:nt,drawerRef:w,overlayRef:de,onOpenChange:a,onPress:Zt,onRelease:nn,onDrag:en,dismissible:g,shouldAnimate:Qe,handleOnly:m,isOpen:_,isDragging:re,shouldFade:at,closeDrawer:je,onNestedDrag:rn,onNestedOpenChange:an,onNestedRelease:sn,keyboardIsOpen:ue,modal:F,snapPointsOffset:ve,activeSnapPointIndex:fe,direction:h,shouldScaleBackground:c,setBackgroundColorOnScale:d,noBodyStyles:M,container:$,autoFocus:Y}},r))}const Ht=l.forwardRef(function({...e},a){const{overlayRef:r,snapPoints:i,onRelease:o,shouldFade:s,isOpen:c,modal:d,shouldAnimate:j}=ge(),S=It(a,r),g=i&&i.length>0;if(!d)return null;const m=l.useCallback(u=>o(u),[o]);return l.createElement(Mn,{onMouseUp:m,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":c&&g?"true":"false","data-vaul-snap-points-overlay":c&&s?"true":"false","data-vaul-animate":j!=null&&j.current?"true":"false",...e})});Ht.displayName="Drawer.Overlay";const Vt=l.forwardRef(function({onPointerDownOutside:e,style:a,onOpenAutoFocus:r,...i},o){const{drawerRef:s,onPress:c,onRelease:d,onDrag:j,keyboardIsOpen:S,snapPointsOffset:g,activeSnapPointIndex:m,modal:u,isOpen:b,direction:A,snapPoints:R,container:F,handleOnly:v,shouldAnimate:P,autoFocus:M}=ge(),[h,q]=l.useState(!1),le=It(o,s),x=l.useRef(null),N=l.useRef(null),C=l.useRef(!1),V=R&&R.length>0;yr();const $=(p,W,_=0)=>{if(C.current)return!0;const K=Math.abs(p.y),H=Math.abs(p.x),ne=H>K,re=["bottom","right"].includes(W)?1:-1;if(W==="left"||W==="right"){if(!(p.x*re<0)&&H>=0&&H<=_)return ne}else if(!(p.y*re<0)&&K>=0&&K<=_)return!ne;return C.current=!0,!0};l.useEffect(()=>{V&&window.requestAnimationFrame(()=>{q(!0)})},[]);function Y(p){x.current=null,C.current=!1,d(p)}return l.createElement(On,{"data-vaul-drawer-direction":A,"data-vaul-drawer":"","data-vaul-delayed-snap-points":h?"true":"false","data-vaul-snap-points":b&&V?"true":"false","data-vaul-custom-container":F?"true":"false","data-vaul-animate":P!=null&&P.current?"true":"false",...i,ref:le,style:g&&g.length>0?{"--snap-point-height":`${g[m??0]}px`,...a}:a,onPointerDown:p=>{v||(i.onPointerDown==null||i.onPointerDown.call(i,p),x.current={x:p.pageX,y:p.pageY},c(p))},onOpenAutoFocus:p=>{r==null||r(p),M||p.preventDefault()},onPointerDownOutside:p=>{if(e==null||e(p),!u||p.defaultPrevented){p.preventDefault();return}S.current&&(S.current=!1)},onFocusOutside:p=>{if(!u){p.preventDefault();return}},onPointerMove:p=>{if(N.current=p,v||(i.onPointerMove==null||i.onPointerMove.call(i,p),!x.current))return;const W=p.pageY-x.current.y,_=p.pageX-x.current.x,K=p.pointerType==="touch"?10:2;$({x:_,y:W},A,K)?j(p):(Math.abs(_)>K||Math.abs(W)>K)&&(x.current=null)},onPointerUp:p=>{i.onPointerUp==null||i.onPointerUp.call(i,p),x.current=null,C.current=!1,d(p)},onPointerOut:p=>{i.onPointerOut==null||i.onPointerOut.call(i,p),Y(N.current)},onContextMenu:p=>{i.onContextMenu==null||i.onContextMenu.call(i,p),N.current&&Y(N.current)}})});Vt.displayName="Drawer.Content";const Cr=250,Nr=120,_t=l.forwardRef(function({preventCycle:e=!1,children:a,...r},i){const{closeDrawer:o,isDragging:s,snapPoints:c,activeSnapPoint:d,setActiveSnapPoint:j,dismissible:S,handleOnly:g,isOpen:m,onPress:u,onDrag:b}=ge(),A=l.useRef(null),R=l.useRef(!1);function F(){if(R.current){M();return}window.setTimeout(()=>{v()},Nr)}function v(){if(s||e||R.current){M();return}if(M(),!c||c.length===0){S||o();return}if(d===c[c.length-1]&&S){o();return}const q=c.findIndex(x=>x===d);if(q===-1)return;const le=c[q+1];j(le)}function P(){A.current=window.setTimeout(()=>{R.current=!0},Cr)}function M(){A.current&&window.clearTimeout(A.current),R.current=!1}return l.createElement("div",{onClick:F,onPointerCancel:M,onPointerDown:h=>{g&&u(h),P()},onPointerMove:h=>{g&&b(h)},ref:i,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},l.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},a))});_t.displayName="Drawer.Handle";function Dr({onDrag:e,onOpenChange:a,open:r,...i}){const{onNestedDrag:o,onNestedOpenChange:s,onNestedRelease:c}=ge();if(!o)throw new Error("Drawer.NestedRoot must be placed in another drawer");return l.createElement($t,{nested:!0,open:r,onClose:()=>{s(!1)},onDrag:(d,j)=>{o(d,j),e==null||e(d,j)},onOpenChange:d=>{d&&s(d),a==null||a(d)},onRelease:c,...i})}function Tr(e){const a=ge(),{container:r=a.container,...i}=e;return l.createElement(_n,{container:r,...i})}const ae={Root:$t,NestedRoot:Dr,Content:Vt,Overlay:Ht,Trigger:An,Portal:Tr,Handle:_t,Close:Fn,Title:$n,Description:Hn},Ut=({shouldScaleBackground:e=!0,...a})=>t.jsx(ae.Root,{shouldScaleBackground:e,...a});Ut.displayName="Drawer";const Rr=ae.Portal,Lt=z.forwardRef(({className:e,...a},r)=>t.jsx(ae.Overlay,{ref:r,className:te("fixed inset-0 z-50 bg-black/80",e),...a}));Lt.displayName=ae.Overlay.displayName;const zt=z.forwardRef(({className:e,children:a,...r},i)=>t.jsxs(Rr,{children:[t.jsx(Lt,{}),t.jsxs(ae.Content,{ref:i,className:te("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[t.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),a]})]}));zt.displayName="DrawerContent";const Bt=({className:e,...a})=>t.jsx("div",{className:te("grid gap-1.5 p-4 text-center sm:text-left",e),...a});Bt.displayName="DrawerHeader";const Wt=z.forwardRef(({className:e,...a},r)=>t.jsx(ae.Title,{ref:r,className:te("text-lg font-semibold leading-none tracking-tight",e),...a}));Wt.displayName=ae.Title.displayName;const Er=z.forwardRef(({className:e,...a},r)=>t.jsx(ae.Description,{ref:r,className:te("text-sm text-muted-foreground",e),...a}));Er.displayName=ae.Description.displayName;const kr=n.object({id:n.number(),hostip:n.string(),name:n.string(),namespace:n.string(),podip:n.string(),restart:n.number(),status:n.string(),createtime:n.string(),containerStatuses:n.array(n.object({name:n.string(),state:n.object({running:n.object({startedAt:n.string().optional()}).optional(),waiting:n.object({reason:n.string().optional(),message:n.string().optional()}).optional(),terminated:n.object({exitCode:n.number(),reason:n.string().optional(),message:n.string().optional(),finishedAt:n.string().optional()}).optional()}).optional(),ready:n.boolean(),restartCount:n.number(),image:n.string(),imageID:n.string(),containerID:n.string().optional()})).optional()});function jt({open:e,onOpenChange:a,currentRow:r}){const i=!!r,o=yt({resolver:St(kr),defaultValues:r??{id:0,hostip:"",name:"",namespace:"",podip:"",restart:0,status:"",createtime:"",containerStatuses:[]}}),s=c=>{a(!1),o.reset(),pe({title:"You submitted the following values:",description:t.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:t.jsx("code",{className:"text-white",children:JSON.stringify(c,null,2)})})})};return t.jsx(Un,{open:e,onOpenChange:c=>{a(c),o.reset()},children:t.jsxs(Ln,{className:"flex flex-col",children:[t.jsxs(zn,{className:"text-left",children:[t.jsxs(Bn,{children:[i?"Update":"Create"," Task"]}),t.jsxs(Wn,{children:[i?"Update the task by providing necessary info.":"Add a new task by providing necessary info.","Click save when you're done."]})]}),t.jsx(Ct,{...o,children:t.jsxs("form",{id:"tasks-form",onSubmit:o.handleSubmit(s),className:"flex-1 space-y-5",children:[t.jsx(Se,{control:o.control,name:"name",render:({field:c})=>t.jsxs(J,{className:"space-y-1",children:[t.jsx(Q,{children:"Title"}),t.jsx(ee,{children:t.jsx(Ye,{...c,placeholder:"Enter a title"})}),t.jsx(Ce,{})]})}),t.jsx(Se,{control:o.control,name:"status",render:({field:c})=>t.jsxs(J,{className:"space-y-1",children:[t.jsx(Q,{children:"Status"}),t.jsx(Pa,{defaultValue:c.value,onValueChange:c.onChange,placeholder:"Select dropdown",items:[{label:"Running",value:"Running"},{label:"Succeeded",value:"Succeeded"},{label:"Unknown",value:"Unknown"},{label:"Failed",value:"Failed"}]}),t.jsx(Ce,{})]})}),t.jsx(Se,{control:o.control,name:"namespace",render:({field:c})=>t.jsxs(J,{className:"relative space-y-3",children:[t.jsx(Q,{children:"Label"}),t.jsx(ee,{children:t.jsxs(pt,{onValueChange:c.onChange,defaultValue:c.value,className:"flex flex-col space-y-1",children:[t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"documentation"})}),t.jsx(Q,{className:"font-normal",children:"Documentation"})]}),t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"feature"})}),t.jsx(Q,{className:"font-normal",children:"Feature"})]}),t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"bug"})}),t.jsx(Q,{className:"font-normal",children:"Bug"})]})]})}),t.jsx(Ce,{})]})}),t.jsx(Se,{control:o.control,name:"namespace",render:({field:c})=>t.jsxs(J,{className:"relative space-y-3",children:[t.jsx(Q,{children:"Priority"}),t.jsx(ee,{children:t.jsxs(pt,{onValueChange:c.onChange,defaultValue:c.value,className:"flex flex-col space-y-1",children:[t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"high"})}),t.jsx(Q,{className:"font-normal",children:"High"})]}),t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"medium"})}),t.jsx(Q,{className:"font-normal",children:"Medium"})]}),t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"low"})}),t.jsx(Q,{className:"font-normal",children:"Low"})]})]})}),t.jsx(Ce,{})]})})]})}),t.jsxs(qn,{className:"gap-2",children:[t.jsx(Yn,{asChild:!0,children:t.jsx(L,{variant:"outline",children:"Close"})}),t.jsx(L,{form:"tasks-form",type:"submit",children:"Save changes"})]})]})})}function Ir({open:e,onOpenChange:a,podName:r,namespace:i,containerName:o}){const s=`/ws/logs/html/${i}/${r}/${o}`;return t.jsx(Ut,{open:e,onOpenChange:a,children:t.jsxs(zt,{className:"h-[80vh]",children:[t.jsx(Bt,{children:t.jsxs(Wt,{children:["Terminal: ",r," Url: ",s]})}),t.jsx("div",{className:"p-4 h-full",children:t.jsx("iframe",{src:s,className:"w-full h-full rounded-md border",style:{minHeight:"500px"}})})]})})}function Pr(){var o,s;const{open:e,setOpen:a,currentRow:r,setCurrentRow:i}=Ke();return t.jsxs(t.Fragment,{children:[t.jsx(jt,{open:e==="create",onOpenChange:()=>a("create")},"task-create"),t.jsx(er,{open:e==="import",onOpenChange:()=>a("import")},"tasks-import"),r&&t.jsxs(t.Fragment,{children:[t.jsx(jt,{open:e==="update",onOpenChange:()=>{a("update"),setTimeout(()=>{i(null)},500)},currentRow:r},`task-update-${r.id}`),t.jsx(Ir,{open:e==="terminal",onOpenChange:()=>{a(null),setTimeout(()=>{i(null)},500)},podName:r.name,namespace:r.namespace,containerName:(s=(o=r.containerStatuses)==null?void 0:o[0])==null?void 0:s.name},`pod-terminal-${r.name}`),t.jsx(Ma,{destructive:!0,open:e==="delete",onOpenChange:()=>{a("delete"),setTimeout(()=>{i(null)},500)},handleConfirm:()=>{a(null),setTimeout(()=>{i(null)},500),pe({title:"The following task has been deleted:",description:t.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:t.jsx("code",{className:"text-white",children:JSON.stringify(r,null,2)})})})},className:"max-w-md",title:`Delete this task: ${r.id} ?`,desc:t.jsxs(t.Fragment,{children:["You are about to delete a task with the ID"," ",t.jsx("strong",{children:r.id}),". ",t.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Delete"},"task-delete")]})]})}function Mr(){const{setOpen:e}=Ke();return t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(L,{variant:"outline",className:"space-x-1",onClick:()=>e("import"),children:[t.jsx("span",{children:"Import"})," ",t.jsx(oa,{size:18})]}),t.jsxs(L,{className:"space-x-1",onClick:()=>e("create"),children:[t.jsx("span",{children:"Create"})," ",t.jsx(La,{size:18})]})]})}const Ge=Kn.create({baseURL:"",timeout:1e4,headers:{"Content-Type":"application/json"}});Ge.interceptors.request.use(e=>{const a=Nt.getState().auth.accessToken;return a&&(e.headers.Authorization=`Bearer ${a}`,e.headers.Cookie=`token=${a}`),e},e=>Promise.reject(e));Ge.interceptors.response.use(e=>e.data,e=>{if(e.response){const{status:a}=e.response;a===401&&(Nt.getState().auth.reset(),window.location.href="/sign-in"),a>=500&&pe({variant:"destructive",title:"服务器错误",description:"请稍后再试或联系管理员"}),Xn(e)}else e.request&&pe({variant:"destructive",title:"网络错误",description:"无法连接服务器，请检查网络连接"});return Promise.reject(e)});function Or(){const[e,a]=z.useState([]);return z.useEffect(()=>{(async()=>{try{const i=await Ge.post("/api/gvr/list",{group:"",version:"v1",resource:"pods",fast:!0});console.log("请求接口成功:",i.data),a(i.data)}catch(i){pe({title:"请求接口出错",description:t.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:t.jsx("code",{className:"text-white",children:JSON.stringify(i,null,2)})})})}})()},[]),t.jsxs(Wa,{children:[t.jsxs(Gn,{fixed:!0,children:[t.jsx(Jn,{}),t.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[t.jsx(Qn,{}),t.jsx(Zn,{})]})]}),t.jsxs(ea,{children:[t.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-x-4 space-y-2",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Pods"}),t.jsx("p",{className:"text-muted-foreground",children:"Here's a list of your tasks for this month!"})]}),t.jsx(Mr,{})]}),t.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:t.jsx(Qa,{data:e,columns:Ka})})]}),t.jsx(Pr,{})]})}const Wr=ta("/_authenticated/pods/")({component:Or});export{Wr as Route};
