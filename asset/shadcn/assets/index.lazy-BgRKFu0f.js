import{j as t,d as ne,Q as Je,R as Rt,B as z,V as Qe,W as ce,X as Ne,Y as u,r as V,z as r,aj as He,ak as Ve,al as _e,am as Ue,an as Le,Z as cn,_ as Ie,D as un,E as dn,J as fn,K as mn,ag as pn,ah as hn,ai as gn,s as xn,a9 as wn,aa as vn,ab as jn,ac as bn,ad as ht,ae as gt,af as yn,I as Ze,b as kt,t as Et,$ as Sn,a0 as Cn,a1 as Nn,a2 as Tn,a3 as Dn,F as Pt,e as Se,f as J,g as Q,h as ee,i as Ce,a4 as Rn,a8 as kn,a5 as pe,ax as En,ay as Pn,az as In,aA as Mn,aB as On,aC as An,aD as $n,aE as Fn,ao as Hn,ap as Vn,aq as _n,ar as Un,as as Ln,at as zn,au as Bn,aF as Wn,aG as It,aH as qn,H as Yn,p as Kn,T as Xn,q as Gn,M as Jn,c as Qn}from"./index-C4upnbsl.js";import{C as xt}from"./checkbox-B8uGYmAO.js";import{I as Zn,a as ea,d as ta,c as na,b as aa,e as ra}from"./IconStopwatch-C5W49mlu.js";import{A as wt,a as vt,C as sa,E as ia,D as oa,b as la,c as ca,d as ua,e as da,M as fa,P as ma,f as pa,g as ha}from"./react-icons.esm-DAwM9Rpp.js";import{u as ga,I as xa,a as wa,T as va,b as ja,c as ze,d as ba,f as jt,e as ya,g as bt,h as Sa,i as Ca,j as Na,k as Ta,l as Da,m as Ra,S as ka,C as Ea}from"./table-CC1YzC8D.js";import{S as Pa,a as Ia,b as Ma,c as Oa,d as Aa}from"./select-CEMw7w8b.js";import{P as $a,a as Fa,b as Ha}from"./popover-C6ORUWNq.js";import{R as yt,a as me}from"./radio-group-nrpTQr_L.js";import{I as Va}from"./IconPlus-IOwCPPg8.js";import"./index-CQ5h2BHW.js";const _a=[{value:"Running",label:"Running"},{value:"Succeeded",label:"Succeeded"},{value:"Unknown",label:"Unknown"},{value:"Failed",label:"Failed"},{value:"Pending",label:"Pending"}],Ua=[{value:"Running",label:"Running",icon:Zn},{value:"Succeeded",label:"Succeeded",icon:ea},{value:"Unknown",label:"Unknown",icon:ta},{value:"Failed",label:"Failed",icon:na},{value:"Pending",label:"Pending",icon:aa}],La=new Map([["Running","bg-teal-100/30 text-teal-900 dark:text-teal-200 border-teal-200"],["Failed","bg-neutral-300/40 border-neutral-300"],["Unknown","bg-sky-200/40 text-sky-900 dark:text-sky-100 border-sky-300"],["Successed","bg-destructive/10 dark:bg-destructive/50 text-destructive dark:text-primary border-destructive/10"],["Pending","bg-purple-200/40 text-purple-900 dark:text-purple-100 border-purple-300"]]);function X({column:e,title:n,className:a}){return e.getCanSort()?t.jsx("div",{className:ne("flex items-center space-x-2",a),children:t.jsxs(Je,{children:[t.jsx(Rt,{asChild:!0,children:t.jsxs(z,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[t.jsx("span",{children:n}),e.getIsSorted()==="desc"?t.jsx(wt,{className:"ml-2 h-4 w-4"}):e.getIsSorted()==="asc"?t.jsx(vt,{className:"ml-2 h-4 w-4"}):t.jsx(sa,{className:"ml-2 h-4 w-4"})]})}),t.jsxs(Qe,{align:"start",children:[t.jsxs(ce,{onClick:()=>e.toggleSorting(!1),children:[t.jsx(vt,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),t.jsxs(ce,{onClick:()=>e.toggleSorting(!0),children:[t.jsx(wt,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),e.getCanHide()&&t.jsxs(t.Fragment,{children:[t.jsx(Ne,{}),t.jsxs(ce,{onClick:()=>e.toggleVisibility(!1),children:[t.jsx(ia,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})]})}):t.jsx("div",{className:ne(a),children:n})}const Mt=u.createContext(null);function za({children:e}){const[n,a]=ga(null),[s,o]=V.useState(null),[i,c]=V.useState(void 0);return t.jsx(Mt,{value:{open:n,setOpen:a,currentRow:s,setCurrentRow:o,containerName:i,setContainerName:c},children:e})}const et=()=>{const e=u.useContext(Mt);if(!e)throw new Error("useTasks has to be used within <PodsContext>");return e};r.object({apiVersion:r.string(),kind:r.string().regex(/^Pod$/),metadata:r.object({name:r.string(),namespace:r.string().optional(),labels:r.record(r.string(),r.string()).optional(),annotations:r.record(r.string(),r.string()).optional(),uid:r.string(),creationTimestamp:r.string().optional()}),spec:r.object({containers:r.array(r.object({name:r.string(),image:r.string(),ports:r.array(r.object({containerPort:r.number()})).optional()})),restartPolicy:r.enum(["Always","OnFailure","Never"]).optional(),terminationGracePeriodSeconds:r.number().optional()}),status:r.object({phase:r.enum(["Pending","Running","Succeeded","Failed","Unknown"]).optional(),conditions:r.array(r.object({type:r.string(),status:r.string(),lastProbeTime:r.string().nullable().optional(),lastTransitionTime:r.string().optional(),reason:r.string().optional()})).optional(),hostIP:r.string().optional(),podIP:r.string().optional(),startTime:r.string().optional(),containerStatuses:r.array(r.object({name:r.string(),state:r.object({running:r.object({startedAt:r.string().optional()}).optional(),waiting:r.object({reason:r.string().optional(),message:r.string().optional()}).optional(),terminated:r.object({exitCode:r.number(),reason:r.string().optional(),message:r.string().optional(),startedAt:r.string().optional(),finishedAt:r.string().optional()}).optional()}).optional(),lastState:r.object({running:r.object({startedAt:r.string().optional()}).optional(),waiting:r.object({reason:r.string().optional(),message:r.string().optional()}).optional(),terminated:r.object({exitCode:r.number(),reason:r.string().optional(),message:r.string().optional(),startedAt:r.string().optional(),finishedAt:r.string().optional()}).optional()}).optional(),ready:r.boolean(),restartCount:r.number(),image:r.string(),imageID:r.string(),containerID:r.string().optional()})).optional()}).optional()});const Ba=r.object({id:r.number(),hostip:r.string(),name:r.string(),namespace:r.string(),podip:r.string(),restart:r.number(),status:r.string(),statuss:r.object({phase:r.enum(["Pending","Running","Succeeded","Failed","Unknown"]).optional(),conditions:r.array(r.object({type:r.string(),status:r.string(),lastProbeTime:r.string().nullable().optional(),lastTransitionTime:r.string().optional(),reason:r.string().optional()})).optional(),hostIP:r.string().optional(),podIP:r.string().optional(),startTime:r.string().optional(),qosClass:r.string().optional(),containerStatuses:r.array(r.object({name:r.string(),ready:r.boolean(),restartCount:r.number(),image:r.string(),imageID:r.string(),containerID:r.string().optional()})).optional()}).optional(),createtime:r.string(),containerStatuses:r.array(r.object({name:r.string(),ready:r.boolean(),restartCount:r.number(),image:r.string(),imageID:r.string(),containerID:r.string().optional()})).optional(),controller:r.array(r.object({apiVersion:r.string(),blockOwnerDeletion:r.boolean().optional(),controller:r.boolean().optional(),name:r.string(),kind:r.string(),uid:r.string()})).optional()});function Wa({row:e}){var c;const n=Ba.parse(e.original),a=[...new Set((c=n.containerStatuses)==null?void 0:c.map(l=>l.name))].map(l=>({label:l,value:l})),{setOpen:s,setCurrentRow:o,setContainerName:i}=et();return t.jsxs(Je,{modal:!1,children:[t.jsx(Rt,{asChild:!0,children:t.jsxs(z,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[t.jsx(oa,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Open menu"})]})}),t.jsxs(Qe,{align:"end",className:"w-[160px]",children:[t.jsx(ce,{onClick:()=>{o(n),s("update")},children:"Edit"}),t.jsx(Ne,{}),t.jsxs(He,{children:[t.jsx(Ve,{children:"日志"}),t.jsx(_e,{children:t.jsx(Ue,{value:n.name,children:a.map(l=>t.jsx(Le,{onClick:()=>{o(n),i(l.value),s("terminal")},value:l.value,children:l.label},l.value))})})]}),t.jsxs(He,{children:[t.jsx(Ve,{children:"终端"}),t.jsx(_e,{children:t.jsx(Ue,{value:n.name,children:a.map(l=>t.jsx(Le,{onClick:()=>{o(n),i(l.value),s("ssh")},value:l.value,children:l.label},l.value))})})]}),t.jsx(ce,{disabled:!0,children:"Make a copy"}),t.jsx(ce,{disabled:!0,children:"Favorite"}),t.jsx(Ne,{}),t.jsxs(He,{children:[t.jsx(Ve,{children:"Labels"}),t.jsx(_e,{children:t.jsx(Ue,{value:n.name,children:_a.map(l=>t.jsx(Le,{value:l.value,children:l.label},l.value))})})]}),t.jsx(Ne,{}),t.jsxs(ce,{onClick:()=>{o(n),s("delete")},children:["Delete",t.jsx(cn,{children:t.jsx(xa,{size:16})})]})]})]})}const qa=[{id:"select",header:({table:e})=>t.jsx(xt,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>e.toggleAllPageRowsSelected(!!n),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:e})=>t.jsx(xt,{checked:e.getIsSelected(),onCheckedChange:n=>e.toggleSelected(!!n),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:({column:e})=>t.jsx(X,{column:e,title:"Id"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("id")}),enableSorting:!0,enableHiding:!0},{accessorKey:"status",header:({column:e})=>t.jsx(X,{column:e,title:"状态"}),cell:({row:e})=>{if(!Ua.find(s=>s.value===e.getValue("status")))return null;const a=La.get(e.getValue("status"));return t.jsx("div",{className:"flex space-x-2",children:t.jsx(Ie,{variant:"outline",className:ne("capitalize",a),children:e.getValue("status")})})},filterFn:(e,n,a)=>a.includes(e.getValue(n))},{accessorKey:"name",header:({column:e})=>t.jsx(X,{column:e,title:"名称"}),cell:({row:e})=>t.jsx("div",{className:"w-48 overflow-hidden text-ellipsis whitespace-nowrap hover:overflow-visible ",children:e.getValue("name")}),enableSorting:!1,enableHiding:!1},{accessorKey:"namespace",header:({column:e})=>t.jsx(X,{column:e,title:"命名空间"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("namespace")})},{accessorKey:"images",header:({column:e})=>t.jsx(X,{column:e,title:"镜像"}),cell:({row:e})=>{const a=(e.original.containerStatuses||[]).map(s=>s.image);return a.length===0?t.jsx("div",{children:"-"}):t.jsxs("div",{className:"flex items-center",children:[t.jsx(un,{children:t.jsxs(dn,{children:[t.jsx(fn,{children:t.jsx("div",{className:"max-w-[200px] truncate",children:a[0]})}),t.jsx(mn,{className:"max-w-[400px] whitespace-pre-wrap",children:a.map((s,o)=>t.jsx("div",{children:s},o))})]})}),a.length>1&&t.jsxs("span",{className:"ml-1 text-xs text-muted-foreground",children:["+",a.length-1," more"]})]})},enableHiding:!0},{accessorKey:"ready",header:({column:e})=>t.jsx(X,{column:e,title:"就绪容器"}),cell:({row:e})=>{var o,i;const n=((o=e.original.containerStatuses)==null?void 0:o.length)||0,a=((i=e.original.containerStatuses)==null?void 0:i.filter(c=>c.ready).length)||0,s=()=>{const c=[];for(let l=0;l<a;l++)c.push(t.jsx("span",{className:"bg-green-500 w-3 h-3 inline-block mr-1"},l));for(let l=0;l<n-a;l++)c.push(t.jsx("span",{className:"bg-gray-300 w-3 h-3 inline-block mr-1"},l+a));return c};return t.jsx("div",{className:"w-fit",children:s()})}},{accessorKey:"restart",header:({column:e})=>t.jsx(X,{column:e,title:"重启次数"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("restart")})},{id:"controller",header:({column:e})=>t.jsx(X,{column:e,title:"控制器"}),cell:({row:e})=>{var n,a;return t.jsx("div",{className:"w-fit",children:(a=(n=e.original.controller)==null?void 0:n[0])==null?void 0:a.kind})}},{id:"qos",header:({column:e})=>t.jsx(X,{column:e,title:"QoS"}),cell:({row:e})=>{var n;return t.jsx("div",{className:"w-fit",children:(n=e.original.statuss)==null?void 0:n.qosClass})}},{accessorKey:"podip",header:({column:e})=>t.jsx(X,{column:e,title:"容器IP"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("podip")})},{accessorKey:"hostip",header:({column:e})=>t.jsx(X,{column:e,title:"主机IP"}),cell:({row:e})=>t.jsx("div",{className:"w-fit",children:e.getValue("hostip")})},{accessorKey:"createtime",header:({column:e})=>t.jsx(X,{column:e,title:"运行时间"}),cell:({row:e})=>{const n=S=>{const m=Date.now()-S,d=24*3600*1e3,b=3600*1e3,A=60*1e3,R=Math.floor(m/d),$=m%d,v=Math.floor($/b),I=$%b,M=Math.floor(I/A),g=I%A,q=Math.round(g/1e3);return{days:R,hours:v,minutes:M,seconds:q}},a=(S,h,m,d)=>{let b="";return S>0&&(b+=`${S}d `),h>0&&(b+=`${h}h `),m>0&&(b+=`${m}m `),d>0&&(b+=`${d}s`),b},s=new Date(e.getValue("createtime")).getTime(),{days:o,hours:i,minutes:c,seconds:l}=n(s),j=a(o,i,c,l);return t.jsx("div",{className:"w-fit",children:j})}},{id:"actions",cell:({row:e})=>t.jsx(Wa,{row:e})}];function Ya({table:e}){return t.jsxs("div",{className:"flex items-center justify-between overflow-clip px-2",style:{overflowClipMargin:1},children:[t.jsxs("div",{className:"hidden flex-1 text-sm text-muted-foreground sm:block",children:[e.getFilteredSelectedRowModel().rows.length," of"," ",e.getFilteredRowModel().rows.length," row(s) selected."]}),t.jsxs("div",{className:"flex items-center sm:space-x-6 lg:space-x-8",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"hidden text-sm font-medium sm:block",children:"Rows per page"}),t.jsxs(Pa,{value:`${e.getState().pagination.pageSize}`,onValueChange:n=>{e.setPageSize(Number(n))},children:[t.jsx(Ia,{className:"h-8 w-[70px]",children:t.jsx(Ma,{placeholder:e.getState().pagination.pageSize})}),t.jsx(Oa,{side:"top",children:[10,20,30,40,50].map(n=>t.jsx(Aa,{value:`${n}`,children:n},n))})]})]}),t.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",e.getState().pagination.pageIndex+1," of"," ",e.getPageCount()]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to first page"}),t.jsx(la,{className:"h-4 w-4"})]}),t.jsxs(z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to previous page"}),t.jsx(ca,{className:"h-4 w-4"})]}),t.jsxs(z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to next page"}),t.jsx(ua,{className:"h-4 w-4"})]}),t.jsxs(z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to last page"}),t.jsx(da,{className:"h-4 w-4"})]})]})]})]})}function Ka({table:e}){return t.jsxs(Je,{modal:!1,children:[t.jsx(pn,{asChild:!0,children:t.jsxs(z,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[t.jsx(fa,{className:"mr-2 h-4 w-4"}),"View"]})}),t.jsxs(Qe,{align:"end",className:"w-[150px]",children:[t.jsx(hn,{children:"Toggle columns"}),t.jsx(Ne,{}),e.getAllColumns().filter(n=>typeof n.accessorFn<"u"&&n.getCanHide()).map(n=>t.jsx(gn,{className:"capitalize",checked:n.getIsVisible(),onCheckedChange:a=>n.toggleVisibility(!!a),children:n.id},n.id))]})]})}function Be({column:e,title:n,options:a}){const s=e==null?void 0:e.getFacetedUniqueValues(),o=new Set(e==null?void 0:e.getFilterValue());return t.jsxs($a,{children:[t.jsx(Fa,{asChild:!0,children:t.jsxs(z,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[t.jsx(ma,{className:"mr-2 h-4 w-4"}),n,(o==null?void 0:o.size)>0&&t.jsxs(t.Fragment,{children:[t.jsx(xn,{orientation:"vertical",className:"mx-2 h-4"}),t.jsx(Ie,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:o.size}),t.jsx("div",{className:"hidden space-x-1 lg:flex",children:o.size>2?t.jsxs(Ie,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[o.size," selected"]}):a.filter(i=>o.has(i.value)).map(i=>t.jsx(Ie,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:i.label},i.value))})]})]})}),t.jsx(Ha,{className:"w-[200px] p-0",align:"start",children:t.jsxs(wn,{children:[t.jsx(vn,{placeholder:n}),t.jsxs(jn,{children:[t.jsx(bn,{children:"No results found."}),t.jsx(ht,{children:a.map(i=>{const c=o.has(i.value);return t.jsxs(gt,{onSelect:()=>{c?o.delete(i.value):o.add(i.value);const l=Array.from(o);e==null||e.setFilterValue(l.length?l:void 0)},children:[t.jsx("div",{className:ne("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",c?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:t.jsx(pa,{className:ne("h-4 w-4")})}),i.icon&&t.jsx(i.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),t.jsx("span",{children:i.label}),(s==null?void 0:s.get(i.value))&&t.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:s.get(i.value)})]},i.value)})}),o.size>0&&t.jsxs(t.Fragment,{children:[t.jsx(yn,{}),t.jsx(ht,{children:t.jsx(gt,{onSelect:()=>e==null?void 0:e.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function Xa({table:e,originalData:n}){var c;const a=e.getState().columnFilters.length>0,s=[...new Set(n.map(l=>l.namespace))].map(l=>({value:l,label:l})),o=[...new Set(n.map(l=>l.hostip))].map(l=>({value:l,label:l})),i=[...new Set(n.map(l=>l.status))].map(l=>({value:l,label:l}));return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex flex-1 flex-col-reverse items-start gap-y-2 sm:flex-row sm:items-center sm:space-x-2",children:[t.jsx(Ze,{placeholder:"Filter tasks...",value:((c=e.getColumn("name"))==null?void 0:c.getFilterValue())??"",onChange:l=>{var j;return(j=e.getColumn("name"))==null?void 0:j.setFilterValue(l.target.value)},className:"h-8 w-[150px] lg:w-[250px]"}),t.jsxs("div",{className:"flex gap-x-2",children:[e.getColumn("status")&&t.jsx(Be,{column:e.getColumn("status"),title:"状态筛选",options:i}),e.getColumn("namespace")&&t.jsx(Be,{column:e.getColumn("namespace"),title:"命名空间筛选",options:s}),e.getColumn("hostip")&&t.jsx(Be,{column:e.getColumn("hostip"),title:"主机IP筛选",options:o})]}),a&&t.jsxs(z,{variant:"ghost",onClick:()=>e.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",t.jsx(ha,{className:"ml-2 h-4 w-4"})]})]}),t.jsx(Ka,{table:e})]})}function Ga({columns:e,data:n}){var m;const[a,s]=V.useState({}),[o,i]=V.useState({}),[c,l]=V.useState([]),[j,S]=V.useState([]),h=wa({data:n,columns:e,state:{sorting:j,columnVisibility:o,rowSelection:a,columnFilters:c},enableRowSelection:!0,onRowSelectionChange:s,onSortingChange:S,onColumnFiltersChange:l,onColumnVisibilityChange:i,getCoreRowModel:Sa(),getFilteredRowModel:Ca(),getPaginationRowModel:Na(),getSortedRowModel:Ta(),getFacetedRowModel:Da(),getFacetedUniqueValues:Ra()});return t.jsxs("div",{className:"space-y-4",children:[t.jsx(Xa,{table:h,originalData:n}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(va,{children:[t.jsx(ja,{children:h.getHeaderGroups().map(d=>t.jsx(ze,{children:d.headers.map(b=>t.jsx(ba,{colSpan:b.colSpan,children:b.isPlaceholder?null:jt(b.column.columnDef.header,b.getContext())},b.id))},d.id))}),t.jsx(ya,{children:(m=h.getRowModel().rows)!=null&&m.length?h.getRowModel().rows.map(d=>t.jsx(ze,{"data-state":d.getIsSelected()&&"selected",children:d.getVisibleCells().map(b=>t.jsx(bt,{children:jt(b.column.columnDef.cell,b.getContext())},b.id))},d.id)):t.jsx(ze,{children:t.jsx(bt,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})}),t.jsx(Ya,{table:h})]})}const Ja=r.object({file:r.instanceof(FileList).refine(e=>e.length>0,{message:"Please upload a file"}).refine(e=>{var n;return["text/csv"].includes((n=e==null?void 0:e[0])==null?void 0:n.type)},"Please upload csv format.")});function Qa({open:e,onOpenChange:n}){const a=kt({resolver:Et(Ja),defaultValues:{file:void 0}}),s=a.register("file"),o=()=>{const i=a.getValues("file");if(i&&i[0]){const c={name:i[0].name,size:i[0].size,type:i[0].type};pe({title:"You have imported the following file:",description:t.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:t.jsx("code",{className:"text-white",children:JSON.stringify(c,null,2)})})})}n(!1)};return t.jsx(Sn,{open:e,onOpenChange:i=>{n(i),a.reset()},children:t.jsxs(Cn,{className:"gap-2 sm:max-w-sm",children:[t.jsxs(Nn,{className:"text-left",children:[t.jsx(Tn,{children:"Import Tasks"}),t.jsx(Dn,{children:"Import tasks quickly from a CSV file."})]}),t.jsx(Pt,{...a,children:t.jsx("form",{id:"task-import-form",onSubmit:a.handleSubmit(o),children:t.jsx(Se,{control:a.control,name:"file",render:()=>t.jsxs(J,{className:"mb-2 space-y-1",children:[t.jsx(Q,{children:"File"}),t.jsx(ee,{children:t.jsx(Ze,{type:"file",...s,className:"h-8"})}),t.jsx(Ce,{})]})})})}),t.jsxs(Rn,{className:"gap-2 sm:gap-0",children:[t.jsx(kn,{asChild:!0,children:t.jsx(z,{variant:"outline",children:"Close"})}),t.jsx(z,{type:"submit",form:"task-import-form",children:"Import"})]})]})})}function Za(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}const Ot=u.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),he=()=>{const e=u.useContext(Ot);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Za(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function er(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function tr(){return tt(/^Mac/)}function nr(){return tt(/^iPhone/)}function St(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ar(){return tt(/^iPad/)||tr()&&navigator.maxTouchPoints>1}function At(){return nr()||ar()}function tt(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const rr=24,sr=typeof window<"u"?V.useLayoutEffect:V.useEffect;function Ct(...e){return(...n)=>{for(let a of e)typeof a=="function"&&a(...n)}}const We=typeof document<"u"&&window.visualViewport;function Nt(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function $t(e){for(Nt(e)&&(e=e.parentElement);e&&!Nt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const ir=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ke=0,qe;function or(e={}){let{isDisabled:n}=e;sr(()=>{if(!n)return ke++,ke===1&&At()&&(qe=lr()),()=>{ke--,ke===0&&(qe==null||qe())}},[n])}function lr(){let e,n=0,a=m=>{e=$t(m.target),!(e===document.documentElement&&e===document.body)&&(n=m.changedTouches[0].pageY)},s=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let d=m.changedTouches[0].pageY,b=e.scrollTop,A=e.scrollHeight-e.clientHeight;A!==0&&((b<=0&&d>n||b>=A&&d<n)&&m.preventDefault(),n=d)},o=m=>{let d=m.target;Xe(d)&&d!==document.activeElement&&(m.preventDefault(),d.style.transform="translateY(-2000px)",d.focus(),requestAnimationFrame(()=>{d.style.transform=""}))},i=m=>{let d=m.target;Xe(d)&&(d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",We&&(We.height<window.innerHeight?requestAnimationFrame(()=>{Tt(d)}):We.addEventListener("resize",()=>Tt(d),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},l=window.pageXOffset,j=window.pageYOffset,S=Ct(cr(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let h=Ct(be(document,"touchstart",a,{passive:!1,capture:!0}),be(document,"touchmove",s,{passive:!1,capture:!0}),be(document,"touchend",o,{passive:!1,capture:!0}),be(document,"focus",i,!0),be(window,"scroll",c));return()=>{S(),h(),window.scrollTo(l,j)}}function cr(e,n,a){let s=e.style[n];return e.style[n]=a,()=>{e.style[n]=s}}function be(e,n,a,s){return e.addEventListener(n,a,s),()=>{e.removeEventListener(n,a,s)}}function Tt(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let a=$t(e);if(a!==document.documentElement&&a!==document.body&&a!==e){let s=a.getBoundingClientRect().top,o=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const c=a.getBoundingClientRect().bottom+rr;i>c&&(a.scrollTop+=o-s)}e=a.parentElement}}function Xe(e){return e instanceof HTMLInputElement&&!ir.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function ur(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function dr(...e){return n=>e.forEach(a=>ur(a,n))}function Ft(...e){return V.useCallback(dr(...e),e)}const Ht=new WeakMap;function O(e,n,a=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(n).forEach(([o,i])=>{if(o.startsWith("--")){e.style.setProperty(o,i);return}s[o]=e.style[o],e.style[o]=i}),!a&&Ht.set(e,s)}function fr(e,n){if(!e||!(e instanceof HTMLElement))return;let a=Ht.get(e);a&&(e.style[n]=a[n])}const P=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ee(e,n){if(!e)return null;const a=window.getComputedStyle(e),s=a.transform||a.webkitTransform||a.mozTransform;let o=s.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[P(n)?13:12]):(o=s.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[P(n)?5:4]):null)}function mr(e){return 8*(Math.log(e+1)-2)}function Ye(e,n){if(!e)return()=>{};const a=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=a}}function pr(...e){return(...n)=>{for(const a of e)typeof a=="function"&&a(...n)}}const k={DURATION:.5,EASE:[.32,.72,0,1]},Vt=.4,hr=.25,gr=100,_t=8,Pe=16,Ge=26,Ke="vaul-dragging";function Ut(e){const n=u.useRef(e);return u.useEffect(()=>{n.current=e}),u.useMemo(()=>(...a)=>n.current==null?void 0:n.current.call(n,...a),[])}function xr({defaultProp:e,onChange:n}){const a=u.useState(e),[s]=a,o=u.useRef(s),i=Ut(n);return u.useEffect(()=>{o.current!==s&&(i(s),o.current=s)},[s,o,i]),a}function Lt({prop:e,defaultProp:n,onChange:a=()=>{}}){const[s,o]=xr({defaultProp:n,onChange:a}),i=e!==void 0,c=i?e:s,l=Ut(a),j=u.useCallback(S=>{if(i){const m=typeof S=="function"?S(e):S;m!==e&&l(m)}else o(S)},[i,e,o,l]);return[c,j]}function wr({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:a,drawerRef:s,overlayRef:o,fadeFromIndex:i,onSnapPointChange:c,direction:l="bottom",container:j,snapToSequentialPoint:S}){const[h,m]=Lt({prop:e,defaultProp:a==null?void 0:a[0],onChange:n}),[d,b]=u.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);u.useEffect(()=>{function x(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const A=u.useMemo(()=>h===(a==null?void 0:a[a.length-1])||null,[a,h]),R=u.useMemo(()=>{var x;return(x=a==null?void 0:a.findIndex(N=>N===h))!=null?x:null},[a,h]),$=a&&a.length>0&&(i||i===0)&&!Number.isNaN(i)&&a[i]===h||!a,v=u.useMemo(()=>{const x=j?{width:j.getBoundingClientRect().width,height:j.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var N;return(N=a==null?void 0:a.map(C=>{const _=typeof C=="string";let F=0;if(_&&(F=parseInt(C,10)),P(l)){const p=_?F:d?C*x.height:0;return d?l==="bottom"?x.height-p:-x.height+p:p}const Y=_?F:d?C*x.width:0;return d?l==="right"?x.width-Y:-x.width+Y:Y}))!=null?N:[]},[a,d,j]),I=u.useMemo(()=>R!==null?v==null?void 0:v[R]:null,[v,R]),M=u.useCallback(x=>{var N;const C=(N=v==null?void 0:v.findIndex(_=>_===x))!=null?N:null;c(C),O(s.current,{transition:`transform ${k.DURATION}s cubic-bezier(${k.EASE.join(",")})`,transform:P(l)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`}),v&&C!==v.length-1&&i!==void 0&&C!==i&&C<i?O(o.current,{transition:`opacity ${k.DURATION}s cubic-bezier(${k.EASE.join(",")})`,opacity:"0"}):O(o.current,{transition:`opacity ${k.DURATION}s cubic-bezier(${k.EASE.join(",")})`,opacity:"1"}),m(a==null?void 0:a[Math.max(C,0)])},[s.current,a,v,i,o,m]);u.useEffect(()=>{if(h||e){var x;const N=(x=a==null?void 0:a.findIndex(C=>C===e||C===h))!=null?x:-1;v&&N!==-1&&typeof v[N]=="number"&&M(v[N])}},[h,e,a,v,M]);function g({draggedDistance:x,closeDrawer:N,velocity:C,dismissible:_}){if(i===void 0)return;const F=l==="bottom"||l==="right"?(I??0)-x:(I??0)+x,Y=R===i-1,p=R===0,W=x>0;if(Y&&O(o.current,{transition:`opacity ${k.DURATION}s cubic-bezier(${k.EASE.join(",")})`}),!S&&C>2&&!W){_?N():M(v[0]);return}if(!S&&C>2&&W&&v&&a){M(v[a.length-1]);return}const U=v==null?void 0:v.reduce((H,te)=>typeof H!="number"||typeof te!="number"?H:Math.abs(te-F)<Math.abs(H-F)?te:H),K=P(l)?window.innerHeight:window.innerWidth;if(C>Vt&&Math.abs(x)<K*.4){const H=W?1:-1;if(H>0&&A&&a){M(v[a.length-1]);return}if(p&&H<0&&_&&N(),R===null)return;M(v[R+H]);return}M(U)}function q({draggedDistance:x}){if(I===null)return;const N=l==="bottom"||l==="right"?I-x:I+x;(l==="bottom"||l==="right")&&N<v[v.length-1]||(l==="top"||l==="left")&&N>v[v.length-1]||O(s.current,{transform:P(l)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})}function oe(x,N){if(!a||typeof R!="number"||!v||i===void 0)return null;const C=R===i-1;if(R>=i&&N)return 0;if(C&&!N)return 1;if(!$&&!C)return null;const F=C?R+1:R-1,Y=C?v[F]-v[F-1]:v[F+1]-v[F],p=x/Math.abs(Y);return C?1-p:p}return{isLastSnapPoint:A,activeSnapPoint:h,shouldFade:$,getPercentageDragged:oe,setActiveSnapPoint:m,activeSnapPointIndex:R,onRelease:g,onDrag:q,snapPointsOffset:v}}const vr=()=>()=>{};function jr(){const{direction:e,isOpen:n,shouldScaleBackground:a,setBackgroundColorOnScale:s,noBodyStyles:o}=he(),i=u.useRef(null),c=V.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Ge)/window.innerWidth}u.useEffect(()=>{if(n&&a){i.current&&clearTimeout(i.current);const j=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!j)return;pr(s&&!o?Ye(document.body,{background:"black"}):vr,Ye(j,{transformOrigin:P(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${k.DURATION}s`,transitionTimingFunction:`cubic-bezier(${k.EASE.join(",")})`}));const S=Ye(j,{borderRadius:`${_t}px`,overflow:"hidden",...P(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{S(),i.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},k.DURATION*1e3)}}},[n,a,c])}let ye=null;function br({isOpen:e,modal:n,nested:a,hasBeenOpened:s,preventScrollRestoration:o,noBodyStyles:i}){const[c,l]=u.useState(()=>typeof window<"u"?window.location.href:""),j=u.useRef(0),S=u.useCallback(()=>{if(St()&&ye===null&&e&&!i){ye={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:d}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-j.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=d-window.innerHeight;b&&j.current>=d&&(document.body.style.top=`${-(j.current+b)}px`)}),300)}},[e]),h=u.useCallback(()=>{if(St()&&ye!==null&&!i){const m=-parseInt(document.body.style.top,10),d=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ye),window.requestAnimationFrame(()=>{if(o&&c!==window.location.href){l(window.location.href);return}window.scrollTo(d,m)}),ye=null}},[c]);return u.useEffect(()=>{function m(){j.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),u.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||h()}},[n,h]),u.useEffect(()=>{a||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&S(),n||window.setTimeout(()=>{h()},500)):h())},[e,s,c,n,a,S,h]),{restorePositionSetting:h}}function zt({open:e,onOpenChange:n,children:a,onDrag:s,onRelease:o,snapPoints:i,shouldScaleBackground:c=!1,setBackgroundColorOnScale:l=!0,closeThreshold:j=hr,scrollLockTimeout:S=gr,dismissible:h=!0,handleOnly:m=!1,fadeFromIndex:d=i&&i.length-1,activeSnapPoint:b,setActiveSnapPoint:A,fixed:R,modal:$=!0,onClose:v,nested:I,noBodyStyles:M=!1,direction:g="bottom",defaultOpen:q=!1,disablePreventScroll:oe=!0,snapToSequentialPoint:x=!1,preventScrollRestoration:N=!1,repositionInputs:C=!0,onAnimationEnd:_,container:F,autoFocus:Y=!1}){var p,W;const[U=!1,K]=Lt({defaultProp:q,prop:e,onChange:f=>{n==null||n(f),!f&&!I&&en(),setTimeout(()=>{_==null||_(f)},k.DURATION*1e3),f&&!$&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),f||(document.body.style.pointerEvents="auto")}}),[H,te]=u.useState(!1),[re,ge]=u.useState(!1),[Kt,st]=u.useState(!1),ue=u.useRef(null),Te=u.useRef(null),Me=u.useRef(null),Oe=u.useRef(null),xe=u.useRef(null),we=u.useRef(!1),Ae=u.useRef(null),$e=u.useRef(0),de=u.useRef(!1),it=u.useRef(!q),ot=u.useRef(0),w=u.useRef(null),lt=u.useRef(((p=w.current)==null?void 0:p.getBoundingClientRect().height)||0),ct=u.useRef(((W=w.current)==null?void 0:W.getBoundingClientRect().width)||0),Fe=u.useRef(0),Xt=u.useCallback(f=>{i&&f===ve.length-1&&(Te.current=new Date)},[]),{activeSnapPoint:Gt,activeSnapPointIndex:fe,setActiveSnapPoint:ut,onRelease:Jt,snapPointsOffset:ve,onDrag:Qt,shouldFade:dt,getPercentageDragged:Zt}=wr({snapPoints:i,activeSnapPointProp:b,setActiveSnapPointProp:A,drawerRef:w,fadeFromIndex:d,overlayRef:ue,onSnapPointChange:Xt,direction:g,container:F,snapToSequentialPoint:x});or({isDisabled:!U||re||!$||Kt||!H||!C||!oe});const{restorePositionSetting:en}=br({isOpen:U,modal:$,nested:I??!1,hasBeenOpened:H,preventScrollRestoration:N,noBodyStyles:M});function De(){return(window.innerWidth-Ge)/window.innerWidth}function tn(f){var T,D;!h&&!i||w.current&&!w.current.contains(f.target)||(lt.current=((T=w.current)==null?void 0:T.getBoundingClientRect().height)||0,ct.current=((D=w.current)==null?void 0:D.getBoundingClientRect().width)||0,ge(!0),Me.current=new Date,At()&&window.addEventListener("touchend",()=>we.current=!1,{once:!0}),f.target.setPointerCapture(f.pointerId),$e.current=P(g)?f.pageY:f.pageX)}function ft(f,T){var D;let y=f;const E=(D=window.getSelection())==null?void 0:D.toString(),B=w.current?Ee(w.current,g):null,L=new Date;if(y.tagName==="SELECT"||y.hasAttribute("data-vaul-no-drag")||y.closest("[data-vaul-no-drag]"))return!1;if(g==="right"||g==="left")return!0;if(Te.current&&L.getTime()-Te.current.getTime()<500)return!1;if(B!==null&&(g==="bottom"?B>0:B<0))return!0;if(E&&E.length>0)return!1;if(xe.current&&L.getTime()-xe.current.getTime()<S&&B===0||T)return xe.current=L,!1;for(;y;){if(y.scrollHeight>y.clientHeight){if(y.scrollTop!==0)return xe.current=new Date,!1;if(y.getAttribute("role")==="dialog")return!0}y=y.parentNode}return!0}function nn(f){if(w.current&&re){const T=g==="bottom"||g==="right"?1:-1,D=($e.current-(P(g)?f.pageY:f.pageX))*T,y=D>0,E=i&&!h&&!y;if(E&&fe===0)return;const B=Math.abs(D),L=document.querySelector("[data-vaul-drawer-wrapper]"),se=g==="bottom"||g==="top"?lt.current:ct.current;let G=B/se;const le=Zt(B,y);if(le!==null&&(G=le),E&&G>=1||!we.current&&!ft(f.target,y))return;if(w.current.classList.add(Ke),we.current=!0,O(w.current,{transition:"none"}),O(ue.current,{transition:"none"}),i&&Qt({draggedDistance:D}),y&&!i){const Z=mr(D),Re=Math.min(Z*-1,0)*T;O(w.current,{transform:P(g)?`translate3d(0, ${Re}px, 0)`:`translate3d(${Re}px, 0, 0)`});return}const ie=1-G;if((dt||d&&fe===d-1)&&(s==null||s(f,G),O(ue.current,{opacity:`${ie}`,transition:"none"},!0)),L&&ue.current&&c){const Z=Math.min(De()+G*(1-De()),1),Re=8-G*8,pt=Math.max(0,14-G*14);O(L,{borderRadius:`${Re}px`,transform:P(g)?`scale(${Z}) translate3d(0, ${pt}px, 0)`:`scale(${Z}) translate3d(${pt}px, 0, 0)`,transition:"none"},!0)}if(!i){const Z=B*T;O(w.current,{transform:P(g)?`translate3d(0, ${Z}px, 0)`:`translate3d(${Z}px, 0, 0)`})}}}u.useEffect(()=>{window.requestAnimationFrame(()=>{it.current=!0})},[]),u.useEffect(()=>{var f;function T(){if(!w.current||!C)return;const D=document.activeElement;if(Xe(D)||de.current){var y;const E=((y=window.visualViewport)==null?void 0:y.height)||0,B=window.innerHeight;let L=B-E;const se=w.current.getBoundingClientRect().height||0,G=se>B*.8;Fe.current||(Fe.current=se);const le=w.current.getBoundingClientRect().top;if(Math.abs(ot.current-L)>60&&(de.current=!de.current),i&&i.length>0&&ve&&fe){const ie=ve[fe]||0;L+=ie}if(ot.current=L,se>E||de.current){const ie=w.current.getBoundingClientRect().height;let Z=ie;ie>E&&(Z=E-(G?le:Ge)),R?w.current.style.height=`${ie-Math.max(L,0)}px`:w.current.style.height=`${Math.max(Z,E-le)}px`}else er()||(w.current.style.height=`${Fe.current}px`);i&&i.length>0&&!de.current?w.current.style.bottom="0px":w.current.style.bottom=`${Math.max(L,0)}px`}}return(f=window.visualViewport)==null||f.addEventListener("resize",T),()=>{var D;return(D=window.visualViewport)==null?void 0:D.removeEventListener("resize",T)}},[fe,i,ve]);function je(f){an(),v==null||v(),f||K(!1),setTimeout(()=>{i&&ut(i[0])},k.DURATION*1e3)}function mt(){if(!w.current)return;const f=document.querySelector("[data-vaul-drawer-wrapper]"),T=Ee(w.current,g);O(w.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${k.DURATION}s cubic-bezier(${k.EASE.join(",")})`}),O(ue.current,{transition:`opacity ${k.DURATION}s cubic-bezier(${k.EASE.join(",")})`,opacity:"1"}),c&&T&&T>0&&U&&O(f,{borderRadius:`${_t}px`,overflow:"hidden",...P(g)?{transform:`scale(${De()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${De()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${k.DURATION}s`,transitionTimingFunction:`cubic-bezier(${k.EASE.join(",")})`},!0)}function an(){!re||!w.current||(w.current.classList.remove(Ke),we.current=!1,ge(!1),Oe.current=new Date)}function rn(f){if(!re||!w.current)return;w.current.classList.remove(Ke),we.current=!1,ge(!1),Oe.current=new Date;const T=Ee(w.current,g);if(!f||!ft(f.target,!1)||!T||Number.isNaN(T)||Me.current===null)return;const D=Oe.current.getTime()-Me.current.getTime(),y=$e.current-(P(g)?f.pageY:f.pageX),E=Math.abs(y)/D;if(E>.05&&(st(!0),setTimeout(()=>{st(!1)},200)),i){Jt({draggedDistance:y*(g==="bottom"||g==="right"?1:-1),closeDrawer:je,velocity:E,dismissible:h}),o==null||o(f,!0);return}if(g==="bottom"||g==="right"?y>0:y<0){mt(),o==null||o(f,!0);return}if(E>Vt){je(),o==null||o(f,!1);return}var B;const L=Math.min((B=w.current.getBoundingClientRect().height)!=null?B:0,window.innerHeight);var se;const G=Math.min((se=w.current.getBoundingClientRect().width)!=null?se:0,window.innerWidth),le=g==="left"||g==="right";if(Math.abs(T)>=(le?G:L)*j){je(),o==null||o(f,!1);return}o==null||o(f,!0),mt()}u.useEffect(()=>(U&&(O(document.documentElement,{scrollBehavior:"auto"}),Te.current=new Date),()=>{fr(document.documentElement,"scrollBehavior")}),[U]);function sn(f){const T=f?(window.innerWidth-Pe)/window.innerWidth:1,D=f?-16:0;Ae.current&&window.clearTimeout(Ae.current),O(w.current,{transition:`transform ${k.DURATION}s cubic-bezier(${k.EASE.join(",")})`,transform:P(g)?`scale(${T}) translate3d(0, ${D}px, 0)`:`scale(${T}) translate3d(${D}px, 0, 0)`}),!f&&w.current&&(Ae.current=setTimeout(()=>{const y=Ee(w.current,g);O(w.current,{transition:"none",transform:P(g)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`})},500))}function on(f,T){if(T<0)return;const D=(window.innerWidth-Pe)/window.innerWidth,y=D+T*(1-D),E=-16+T*Pe;O(w.current,{transform:P(g)?`scale(${y}) translate3d(0, ${E}px, 0)`:`scale(${y}) translate3d(${E}px, 0, 0)`,transition:"none"})}function ln(f,T){const D=P(g)?window.innerHeight:window.innerWidth,y=T?(D-Pe)/D:1,E=T?-16:0;T&&O(w.current,{transition:`transform ${k.DURATION}s cubic-bezier(${k.EASE.join(",")})`,transform:P(g)?`scale(${y}) translate3d(0, ${E}px, 0)`:`scale(${y}) translate3d(${E}px, 0, 0)`})}return u.useEffect(()=>{$||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[$]),u.createElement($n,{defaultOpen:q,onOpenChange:f=>{!h&&!f||(f?te(!0):je(!0),K(f))},open:U},u.createElement(Ot.Provider,{value:{activeSnapPoint:Gt,snapPoints:i,setActiveSnapPoint:ut,drawerRef:w,overlayRef:ue,onOpenChange:n,onPress:tn,onRelease:rn,onDrag:nn,dismissible:h,shouldAnimate:it,handleOnly:m,isOpen:U,isDragging:re,shouldFade:dt,closeDrawer:je,onNestedDrag:on,onNestedOpenChange:sn,onNestedRelease:ln,keyboardIsOpen:de,modal:$,snapPointsOffset:ve,activeSnapPointIndex:fe,direction:g,shouldScaleBackground:c,setBackgroundColorOnScale:l,noBodyStyles:M,container:F,autoFocus:Y}},a))}const Bt=u.forwardRef(function({...e},n){const{overlayRef:a,snapPoints:s,onRelease:o,shouldFade:i,isOpen:c,modal:l,shouldAnimate:j}=he(),S=Ft(n,a),h=s&&s.length>0;if(!l)return null;const m=u.useCallback(d=>o(d),[o]);return u.createElement(En,{onMouseUp:m,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":c&&h?"true":"false","data-vaul-snap-points-overlay":c&&i?"true":"false","data-vaul-animate":j!=null&&j.current?"true":"false",...e})});Bt.displayName="Drawer.Overlay";const Wt=u.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:a,...s},o){const{drawerRef:i,onPress:c,onRelease:l,onDrag:j,keyboardIsOpen:S,snapPointsOffset:h,activeSnapPointIndex:m,modal:d,isOpen:b,direction:A,snapPoints:R,container:$,handleOnly:v,shouldAnimate:I,autoFocus:M}=he(),[g,q]=u.useState(!1),oe=Ft(o,i),x=u.useRef(null),N=u.useRef(null),C=u.useRef(!1),_=R&&R.length>0;jr();const F=(p,W,U=0)=>{if(C.current)return!0;const K=Math.abs(p.y),H=Math.abs(p.x),te=H>K,re=["bottom","right"].includes(W)?1:-1;if(W==="left"||W==="right"){if(!(p.x*re<0)&&H>=0&&H<=U)return te}else if(!(p.y*re<0)&&K>=0&&K<=U)return!te;return C.current=!0,!0};u.useEffect(()=>{_&&window.requestAnimationFrame(()=>{q(!0)})},[]);function Y(p){x.current=null,C.current=!1,l(p)}return u.createElement(Pn,{"data-vaul-drawer-direction":A,"data-vaul-drawer":"","data-vaul-delayed-snap-points":g?"true":"false","data-vaul-snap-points":b&&_?"true":"false","data-vaul-custom-container":$?"true":"false","data-vaul-animate":I!=null&&I.current?"true":"false",...s,ref:oe,style:h&&h.length>0?{"--snap-point-height":`${h[m??0]}px`,...n}:n,onPointerDown:p=>{v||(s.onPointerDown==null||s.onPointerDown.call(s,p),x.current={x:p.pageX,y:p.pageY},c(p))},onOpenAutoFocus:p=>{a==null||a(p),M||p.preventDefault()},onPointerDownOutside:p=>{if(e==null||e(p),!d||p.defaultPrevented){p.preventDefault();return}S.current&&(S.current=!1)},onFocusOutside:p=>{if(!d){p.preventDefault();return}},onPointerMove:p=>{if(N.current=p,v||(s.onPointerMove==null||s.onPointerMove.call(s,p),!x.current))return;const W=p.pageY-x.current.y,U=p.pageX-x.current.x,K=p.pointerType==="touch"?10:2;F({x:U,y:W},A,K)?j(p):(Math.abs(U)>K||Math.abs(W)>K)&&(x.current=null)},onPointerUp:p=>{s.onPointerUp==null||s.onPointerUp.call(s,p),x.current=null,C.current=!1,l(p)},onPointerOut:p=>{s.onPointerOut==null||s.onPointerOut.call(s,p),Y(N.current)},onContextMenu:p=>{s.onContextMenu==null||s.onContextMenu.call(s,p),N.current&&Y(N.current)}})});Wt.displayName="Drawer.Content";const yr=250,Sr=120,qt=u.forwardRef(function({preventCycle:e=!1,children:n,...a},s){const{closeDrawer:o,isDragging:i,snapPoints:c,activeSnapPoint:l,setActiveSnapPoint:j,dismissible:S,handleOnly:h,isOpen:m,onPress:d,onDrag:b}=he(),A=u.useRef(null),R=u.useRef(!1);function $(){if(R.current){M();return}window.setTimeout(()=>{v()},Sr)}function v(){if(i||e||R.current){M();return}if(M(),!c||c.length===0){S||o();return}if(l===c[c.length-1]&&S){o();return}const q=c.findIndex(x=>x===l);if(q===-1)return;const oe=c[q+1];j(oe)}function I(){A.current=window.setTimeout(()=>{R.current=!0},yr)}function M(){A.current&&window.clearTimeout(A.current),R.current=!1}return u.createElement("div",{onClick:$,onPointerCancel:M,onPointerDown:g=>{h&&d(g),I()},onPointerMove:g=>{h&&b(g)},ref:s,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...a},u.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});qt.displayName="Drawer.Handle";function Cr({onDrag:e,onOpenChange:n,open:a,...s}){const{onNestedDrag:o,onNestedOpenChange:i,onNestedRelease:c}=he();if(!o)throw new Error("Drawer.NestedRoot must be placed in another drawer");return u.createElement(zt,{nested:!0,open:a,onClose:()=>{i(!1)},onDrag:(l,j)=>{o(l,j),e==null||e(l,j)},onOpenChange:l=>{l&&i(l),n==null||n(l)},onRelease:c,...s})}function Nr(e){const n=he(),{container:a=n.container,...s}=e;return u.createElement(Fn,{container:a,...s})}const ae={Root:zt,NestedRoot:Cr,Content:Wt,Overlay:Bt,Trigger:In,Portal:Nr,Handle:qt,Close:Mn,Title:On,Description:An},nt=({shouldScaleBackground:e=!0,...n})=>t.jsx(ae.Root,{shouldScaleBackground:e,...n});nt.displayName="Drawer";const Tr=ae.Portal,Yt=V.forwardRef(({className:e,...n},a)=>t.jsx(ae.Overlay,{ref:a,className:ne("fixed inset-0 z-50 bg-black/80",e),...n}));Yt.displayName=ae.Overlay.displayName;const at=V.forwardRef(({className:e,children:n,...a},s)=>t.jsxs(Tr,{children:[t.jsx(Yt,{}),t.jsxs(ae.Content,{ref:s,className:ne("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...a,children:[t.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]}));at.displayName="DrawerContent";const Dr=V.forwardRef(({className:e,...n},a)=>t.jsx(ae.Title,{ref:a,className:ne("text-lg font-semibold leading-none tracking-tight",e),...n}));Dr.displayName=ae.Title.displayName;const Rr=V.forwardRef(({className:e,...n},a)=>t.jsx(ae.Description,{ref:a,className:ne("text-sm text-muted-foreground",e),...n}));Rr.displayName=ae.Description.displayName;const kr=r.object({id:r.number(),hostip:r.string(),name:r.string(),namespace:r.string(),podip:r.string(),restart:r.number(),status:r.string(),createtime:r.string(),containerStatuses:r.array(r.object({name:r.string(),state:r.object({running:r.object({startedAt:r.string().optional()}).optional(),waiting:r.object({reason:r.string().optional(),message:r.string().optional()}).optional(),terminated:r.object({exitCode:r.number(),reason:r.string().optional(),message:r.string().optional(),finishedAt:r.string().optional()}).optional()}).optional(),ready:r.boolean(),restartCount:r.number(),image:r.string(),imageID:r.string(),containerID:r.string().optional()})).optional()});function Dt({open:e,onOpenChange:n,currentRow:a}){const s=!!a,o=kt({resolver:Et(kr),defaultValues:a??{id:0,hostip:"",name:"",namespace:"",podip:"",restart:0,status:"",createtime:"",containerStatuses:[]}}),i=c=>{n(!1),o.reset(),pe({title:"You submitted the following values:",description:t.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:t.jsx("code",{className:"text-white",children:JSON.stringify(c,null,2)})})})};return t.jsx(Hn,{open:e,onOpenChange:c=>{n(c),o.reset()},children:t.jsxs(Vn,{className:"flex flex-col",children:[t.jsxs(_n,{className:"text-left",children:[t.jsxs(Un,{children:[s?"Update":"Create"," Task"]}),t.jsxs(Ln,{children:[s?"Update the task by providing necessary info.":"Add a new task by providing necessary info.","Click save when you're done."]})]}),t.jsx(Pt,{...o,children:t.jsxs("form",{id:"tasks-form",onSubmit:o.handleSubmit(i),className:"flex-1 space-y-5",children:[t.jsx(Se,{control:o.control,name:"name",render:({field:c})=>t.jsxs(J,{className:"space-y-1",children:[t.jsx(Q,{children:"Title"}),t.jsx(ee,{children:t.jsx(Ze,{...c,placeholder:"Enter a title"})}),t.jsx(Ce,{})]})}),t.jsx(Se,{control:o.control,name:"status",render:({field:c})=>t.jsxs(J,{className:"space-y-1",children:[t.jsx(Q,{children:"Status"}),t.jsx(ka,{defaultValue:c.value,onValueChange:c.onChange,placeholder:"Select dropdown",items:[{label:"Running",value:"Running"},{label:"Succeeded",value:"Succeeded"},{label:"Unknown",value:"Unknown"},{label:"Failed",value:"Failed"}]}),t.jsx(Ce,{})]})}),t.jsx(Se,{control:o.control,name:"namespace",render:({field:c})=>t.jsxs(J,{className:"relative space-y-3",children:[t.jsx(Q,{children:"Label"}),t.jsx(ee,{children:t.jsxs(yt,{onValueChange:c.onChange,defaultValue:c.value,className:"flex flex-col space-y-1",children:[t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"documentation"})}),t.jsx(Q,{className:"font-normal",children:"Documentation"})]}),t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"feature"})}),t.jsx(Q,{className:"font-normal",children:"Feature"})]}),t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"bug"})}),t.jsx(Q,{className:"font-normal",children:"Bug"})]})]})}),t.jsx(Ce,{})]})}),t.jsx(Se,{control:o.control,name:"namespace",render:({field:c})=>t.jsxs(J,{className:"relative space-y-3",children:[t.jsx(Q,{children:"Priority"}),t.jsx(ee,{children:t.jsxs(yt,{onValueChange:c.onChange,defaultValue:c.value,className:"flex flex-col space-y-1",children:[t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"high"})}),t.jsx(Q,{className:"font-normal",children:"High"})]}),t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"medium"})}),t.jsx(Q,{className:"font-normal",children:"Medium"})]}),t.jsxs(J,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(ee,{children:t.jsx(me,{value:"low"})}),t.jsx(Q,{className:"font-normal",children:"Low"})]})]})}),t.jsx(Ce,{})]})})]})}),t.jsxs(zn,{className:"gap-2",children:[t.jsx(Bn,{asChild:!0,children:t.jsx(z,{variant:"outline",children:"Close"})}),t.jsx(z,{form:"tasks-form",type:"submit",children:"Save changes"})]})]})})}function Er({open:e,onOpenChange:n,podName:a,namespace:s,containerName:o}){const i=`/ws/logs/html/${s}/${a}/${o}`;return t.jsx(nt,{open:e,onOpenChange:n,children:t.jsx(at,{className:"h-[80vh]",children:t.jsx("div",{className:"p-4 h-full",children:t.jsx("iframe",{src:i,className:"w-full h-full rounded-md border",style:{minHeight:"500px"}})})})})}function Pr({open:e,onOpenChange:n,podName:a,namespace:s,containerName:o}){const i=`/ws/ssh/html/${s}/${a}/${o}`;return t.jsx(nt,{open:e,onOpenChange:n,children:t.jsx(at,{className:"h-[80vh]",children:t.jsx("div",{className:"p-4 h-full",children:t.jsx("iframe",{src:i,className:"w-full h-full rounded-md border",style:{minHeight:"500px"}})})})})}function Ir(){const{open:e,setOpen:n,currentRow:a,setCurrentRow:s,containerName:o,setContainerName:i}=et();return t.jsxs(t.Fragment,{children:[t.jsx(Dt,{open:e==="create",onOpenChange:()=>n("create")},"task-create"),t.jsx(Qa,{open:e==="import",onOpenChange:()=>n("import")},"tasks-import"),a&&t.jsxs(t.Fragment,{children:[t.jsx(Dt,{open:e==="update",onOpenChange:()=>{n("update"),setTimeout(()=>{s(null)},500)},currentRow:a},`task-update-${a.id}`),t.jsx(Er,{open:e==="terminal",onOpenChange:()=>{n(null),i(void 0),setTimeout(()=>{s(null)},500)},podName:a.name,namespace:a.namespace,containerName:o},`pod-terminal-${a.name}`),t.jsx(Pr,{open:e==="ssh",onOpenChange:()=>{n(null),i(void 0),setTimeout(()=>{s(null)},500)},podName:a.name,namespace:a.namespace,containerName:o},`pod-ssh-${a.name}`),t.jsx(Ea,{destructive:!0,open:e==="delete",onOpenChange:()=>{n("delete"),setTimeout(()=>{s(null)},500)},handleConfirm:()=>{n(null),setTimeout(()=>{s(null)},500),pe({title:"The following task has been deleted:",description:t.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:t.jsx("code",{className:"text-white",children:JSON.stringify(a,null,2)})})})},className:"max-w-md",title:`Delete this task: ${a.id} ?`,desc:t.jsxs(t.Fragment,{children:["You are about to delete a task with the ID"," ",t.jsx("strong",{children:a.id}),". ",t.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Delete"},"task-delete")]})]})}function Mr(){const{setOpen:e}=et();return t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(z,{variant:"outline",className:"space-x-1",onClick:()=>e("import"),children:[t.jsx("span",{children:"Import"})," ",t.jsx(ra,{size:18})]}),t.jsxs(z,{className:"space-x-1",onClick:()=>e("create"),children:[t.jsx("span",{children:"Create"})," ",t.jsx(Va,{size:18})]})]})}const rt=Wn.create({baseURL:"",timeout:1e4,headers:{"Content-Type":"application/json"}});rt.interceptors.request.use(e=>{const n=It.getState().auth.accessToken;return n&&(e.headers.Authorization=`Bearer ${n}`,e.headers.Cookie=`token=${n}`),e},e=>Promise.reject(e));rt.interceptors.response.use(e=>e.data,e=>{if(e.response){const{status:n}=e.response;n===401&&(It.getState().auth.reset(),window.location.href="/sign-in"),n>=500&&pe({variant:"destructive",title:"服务器错误",description:"请稍后再试或联系管理员"}),qn(e)}else e.request&&pe({variant:"destructive",title:"网络错误",description:"无法连接服务器，请检查网络连接"});return Promise.reject(e)});function Or(){const[e,n]=V.useState([]);return V.useEffect(()=>{(async()=>{try{const s=await rt.post("/api/gvr/list",{group:"",version:"v1",resource:"pods",fast:!0});console.log("请求接口成功:",s.data),n(s.data)}catch(s){pe({title:"请求接口出错",description:t.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:t.jsx("code",{className:"text-white",children:JSON.stringify(s,null,2)})})})}})()},[]),t.jsxs(za,{children:[t.jsxs(Yn,{fixed:!0,children:[t.jsx(Kn,{}),t.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[t.jsx(Xn,{}),t.jsx(Gn,{})]})]}),t.jsxs(Jn,{children:[t.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-x-4 space-y-2",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Pods"}),t.jsx("p",{className:"text-muted-foreground",children:"Here's a list of your tasks for this month!"})]}),t.jsx(Mr,{})]}),t.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:t.jsx(Ga,{data:e,columns:qa})})]}),t.jsx(Ir,{})]})}const Wr=Qn("/_authenticated/pods/")({component:Or});export{Wr as Route};
