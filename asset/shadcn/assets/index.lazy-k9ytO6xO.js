import{j as e,d as ee,Q as ne,R as Ne,B as b,V as le,W as R,X as ve,r as v,Y as be,z as n,Z as Ue,_ as E,D as ye,E as Se,J as Ce,K as De,ag as _e,ah as Ke,ai as Le,s as qe,a9 as Ge,aa as Be,ab as Ye,ac as Ze,ad as re,ae as oe,af as Qe,I as Y,b as We,t as Xe,$ as we,a0 as Re,a1 as es,a2 as ss,a3 as as,F as is,e as ts,f as ns,g as ls,h as ds,i as cs,a4 as rs,a8 as os,a5 as y,av as ms,aw as me,C,ax as k,ay as O,az as M,aA as I,a7 as se,aB as G,ao as Te,ap as ke,aq as Oe,ar as Me,as as Ie,at as Pe,au as Ae,aC as W,aD as hs,aE as _,aF as ae,aG as xs,aH as js,aI as q,aJ as X,aK as w,aL as V,H as ps,p as fs,T as gs,q as us,M as Ns,c as vs}from"./index-CvXrYaDH.js";import{C as he}from"./checkbox-DpYZ_Z3b.js";import{A as xe,a as je,C as bs,E as ys,D as Ss,b as Cs,c as Ds,d as Ts,e as ks,M as Os,P as Ms,f as Is,g as Ps}from"./react-icons.esm-NWiDlN0C.js";import{u as As,I as Fs,C as Js}from"./confirm-dialog-DOwksJWV.js";import{u as Es,T as P,a as A,b as g,c as f,f as pe,d as F,e as d,g as $s,h as Vs,i as zs,j as Hs,k as Us,l as _s,m as Ks}from"./table-CKI2YZRe.js";import{S as Fe,a as Je,b as Ee,c as $e,d as B}from"./select-COFzs1gu.js";import{P as Ls,a as qs,b as Gs}from"./popover-gjX1J700.js";import{I as Bs}from"./IconDownload-hr3i2vgI.js";import{I as Ys}from"./IconPlus-Br3gedjY.js";import{T as ie}from"./textarea-Dl8YPE0_.js";import{D as de,a as ce}from"./drawer-BVQgAKlG.js";import{C as Zs}from"./chart-D_NbUctX.js";import{J as Ve}from"./main-CKo3mhGq.js";import{I as U,a as fe,M as te}from"./IconTrendingUp-DcD3t5ys.js";import{R as Qs}from"./refresh-cw-Ci7lQpPG.js";import"./index-BIjRnDqE.js";function z({column:s,title:t,className:a}){return s.getCanSort()?e.jsx("div",{className:ee("flex items-center space-x-2",a),children:e.jsxs(ne,{children:[e.jsx(Ne,{asChild:!0,children:e.jsxs(b,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[e.jsx("span",{children:t}),s.getIsSorted()==="desc"?e.jsx(xe,{className:"ml-2 h-4 w-4"}):s.getIsSorted()==="asc"?e.jsx(je,{className:"ml-2 h-4 w-4"}):e.jsx(bs,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(le,{align:"start",children:[e.jsxs(R,{onClick:()=>s.toggleSorting(!1),children:[e.jsx(je,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),e.jsxs(R,{onClick:()=>s.toggleSorting(!0),children:[e.jsx(xe,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),s.getCanHide()&&e.jsxs(e.Fragment,{children:[e.jsx(ve,{}),e.jsxs(R,{onClick:()=>s.toggleVisibility(!1),children:[e.jsx(ys,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})]})}):e.jsx("div",{className:ee(a),children:t})}const ze=be.createContext(null);function Ws({children:s}){const[t,a]=As(null),[i,l]=v.useState(null),[c,o]=v.useState(void 0);return e.jsx(ze,{value:{open:t,setOpen:a,currentRow:i,setCurrentRow:l,containerName:c,setContainerName:o},children:s})}const L=()=>{const s=be.useContext(ze);if(!s)throw new Error("useTasks has to be used within <PodsContext>");return s},Xs=n.object({apiVersion:n.string(),kind:n.string(),metadata:n.object({name:n.string(),namespace:n.string().optional(),labels:n.record(n.string(),n.string()).optional(),annotations:n.record(n.string(),n.string()).optional(),creationTimestamp:n.string().optional(),resourceVersion:n.string().optional(),uid:n.string().optional()}).optional(),spec:n.object({parallelism:n.number().optional(),completions:n.number().optional(),activeDeadlineSeconds:n.number().optional(),backoffLimit:n.number().optional(),selector:n.object({matchLabels:n.record(n.string(),n.string()).optional(),matchExpressions:n.array(n.object({key:n.string(),operator:n.enum(["In","NotIn","Exists","DoesNotExist"]),values:n.array(n.string()).optional()})).optional()}).optional(),template:n.object({metadata:n.object({labels:n.record(n.string(),n.string()).optional(),annotations:n.record(n.string(),n.string()).optional()}).optional(),spec:n.object({containers:n.array(n.object({name:n.string(),image:n.string(),ports:n.array(n.object({containerPort:n.number(),protocol:n.string().optional()})).optional(),env:n.array(n.object({name:n.string(),value:n.string().optional(),valueFrom:n.object({fieldRef:n.object({fieldPath:n.string()}).optional(),secretKeyRef:n.object({name:n.string(),key:n.string()}).optional(),configMapKeyRef:n.object({name:n.string(),key:n.string()}).optional()}).optional()})).optional(),resources:n.object({limits:n.record(n.string(),n.string()).optional(),requests:n.record(n.string(),n.string()).optional()}).optional()})).optional()}).optional()}).optional()}).optional(),status:n.object({active:n.number().optional(),succeeded:n.number().optional(),failed:n.number().optional(),completionTime:n.string().optional(),conditions:n.array(n.object({type:n.string(),status:n.string(),lastUpdateTime:n.string().optional(),lastTransitionTime:n.string().optional(),reason:n.string().optional(),message:n.string().optional()})).optional(),startTime:n.string().optional()}).optional()}),ws=n.object({name:n.string(),namespace:n.string(),crd:Xs,status:n.object({active:n.number().optional(),succeeded:n.number().optional(),failed:n.number().optional(),completionTime:n.string().optional(),conditions:n.array(n.object({type:n.string(),status:n.string(),lastUpdateTime:n.string().optional(),lastTransitionTime:n.string().optional(),reason:n.string().optional(),message:n.string().optional()})).optional(),startTime:n.string().optional()}).optional()});function Rs({row:s}){const t=ws.parse(s.original),{setOpen:a,setCurrentRow:i}=L();return e.jsxs(ne,{modal:!1,children:[e.jsx(Ne,{asChild:!0,children:e.jsxs(b,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[e.jsx(Ss,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsx(le,{align:"end",className:"w-[160px]",children:e.jsxs(R,{onClick:()=>{i(t),a("delete")},children:["刪除",e.jsx(Ue,{children:e.jsx(Fs,{size:16})})]})})]})}function ge(s,t){const a=new Date(s);t===""&&(t=new Date().toString());const i=new Date(t);if(isNaN(a.getTime())||isNaN(i.getTime()))return"无效的时间格式";const l=i.getTime()-a.getTime(),c=Math.floor(l/1e3),o=Math.floor(c/60),r=Math.floor(o/60),h=Math.floor(r/24),j=r%24,m=o%60,p=c%60;let x="";return h>0&&(x+=`${h} 天 `),j>0&&(x+=`${j} 小时 `),m>0&&(x+=`${m} 分钟 `),p>0&&(x+=`${p} 秒`),x||"时间差值为 0"}const ea=[{id:"select",header:({table:s})=>e.jsx(he,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>s.toggleAllPageRowsSelected(!!t),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:s})=>e.jsx(he,{checked:s.getIsSelected(),onCheckedChange:t=>s.toggleSelected(!!t),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"status",header:({column:s})=>e.jsx(z,{column:s,title:"状态"}),cell:({row:s})=>{var a,i,l,c,o,r,h,j,m,p,x,N,u,S,D;return(l=(i=(a=s.original)==null?void 0:a.crd)==null?void 0:i.status)!=null&&l.succeeded?e.jsx(E,{variant:"outline",className:"text-green-500 border-none",children:(r=(o=(c=s.original)==null?void 0:c.crd)==null?void 0:o.status)!=null&&r.conditions?(m=(j=(h=s.original)==null?void 0:h.crd)==null?void 0:j.status)==null?void 0:m.conditions[0].type:"Failed"}):e.jsx(E,{variant:"outline",className:"text-red-500 border-none",children:(N=(x=(p=s.original)==null?void 0:p.crd)==null?void 0:x.status)!=null&&N.conditions?(D=(S=(u=s.original)==null?void 0:u.crd)==null?void 0:S.status)==null?void 0:D.conditions[0].type:"Failed"})},enableSorting:!1,enableHiding:!1},{accessorKey:"active",header:({column:s})=>e.jsx(z,{column:s,title:"Pods"}),cell:({row:s})=>{var a,i,l,c,o,r;return(l=(i=(a=s.original)==null?void 0:a.crd)==null?void 0:i.status)!=null&&l.active?(r=(o=(c=s.original)==null?void 0:c.crd)==null?void 0:o.status)==null?void 0:r.active:0},enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:s})=>e.jsx(z,{column:s,title:"名称"}),cell:({row:s})=>{var l;const{setOpen:t,setCurrentRow:a}=L(),i=()=>{t("detail"),a(s.original)};return e.jsx("div",{children:e.jsx("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap hover:overflow-visible hover:text-blue-600 cursor-pointer",onClick:i,children:(l=s.original)==null?void 0:l.name})})},enableSorting:!1,enableHiding:!1},{accessorKey:"namespace",header:({column:s})=>e.jsx(z,{column:s,title:"命名空间"}),cell:({row:s})=>{var t;return e.jsx("div",{className:"w-fit",children:(t=s.original)==null?void 0:t.namespace})}},{accessorKey:"images",header:({column:s})=>e.jsx(z,{column:s,title:"镜像"}),cell:({row:s})=>{var i,l,c,o,r;const a=(((r=(o=(c=(l=(i=s.original)==null?void 0:i.crd)==null?void 0:l.spec)==null?void 0:c.template)==null?void 0:o.spec)==null?void 0:r.containers)||[]).map(h=>h.image);return a.length===0?e.jsx("div",{children:"-"}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{children:e.jsxs(Se,{children:[e.jsx(Ce,{children:e.jsx("div",{className:"max-w-[200px] truncate",children:a[0]})}),e.jsx(De,{className:"max-w-[400px] whitespace-pre-wrap",children:a.map((h,j)=>e.jsx("div",{children:h},j))})]})}),a.length>1&&e.jsxs("span",{className:"ml-1 text-xs text-muted-foreground",children:["+",a.length-1," more"]})]})},enableHiding:!0},{accessorKey:"completions",header:({column:s})=>e.jsx(z,{column:s,title:"COMPLETIONS"}),cell:({row:s})=>{var t,a,i,l,c,o,r,h,j,m;return(i=(a=(t=s.original)==null?void 0:t.crd)==null?void 0:a.status)!=null&&i.succeeded?e.jsxs(E,{variant:"outline",className:"text-green-500 border-none",children:[(o=(c=(l=s.original)==null?void 0:l.crd)==null?void 0:c.status)==null?void 0:o.succeeded,"/",(h=(r=s.original)==null?void 0:r.crd)==null?void 0:h.spec.completions]}):e.jsxs(E,{variant:"outline",className:"text-red-500 border-none",children:["0/",(m=(j=s.original)==null?void 0:j.crd)==null?void 0:m.spec.completions]})}},{accessorKey:"duration",header:({column:s})=>e.jsx(z,{column:s,title:"DURATION"}),cell:({row:s})=>{var t,a,i,l,c,o,r,h,j,m,p,x;return(i=(a=(t=s.original)==null?void 0:t.crd)==null?void 0:a.status)!=null&&i.conditions?ge((o=(c=(l=s.original)==null?void 0:l.crd)==null?void 0:c.status)==null?void 0:o.startTime,(j=(h=(r=s.original)==null?void 0:r.crd)==null?void 0:h.status)==null?void 0:j.conditions[0].lastTransitionTime):ge((x=(p=(m=s.original)==null?void 0:m.crd)==null?void 0:p.status)==null?void 0:x.startTime,"")}},{accessorKey:"selector",header:({column:s})=>e.jsx(z,{column:s,title:"NODE SELECTOR"}),cell:({row:s})=>{var t,a,i;return(i=(a=(t=s.original)==null?void 0:t.crd)==null?void 0:a.spec)!=null&&i.template.spec.nodeSelector?Object.entries(s.original.crd.spec.template.spec.nodeSelector).map(([l,c])=>`${l}=${c}`):"-"},enableSorting:!1,enableHiding:!1},{accessorKey:"createtime",header:({column:s})=>e.jsx(z,{column:s,title:"运行时间"}),cell:({row:s})=>{var j;const t=m=>{const x=Date.now()-m,N=24*3600*1e3,u=3600*1e3,S=60*1e3,D=Math.floor(x/N),T=x%N,$=Math.floor(T/u),J=T%u,Z=Math.floor(J/S),Q=J%S,H=Math.round(Q/1e3);return{days:D,hours:$,minutes:Z,seconds:H}},a=(m,p,x,N)=>{let u="";return m>0&&(u+=`${m}d `),p>0&&(u+=`${p}h `),x>0&&(u+=`${x}m `),N>0&&(u+=`${N}s`),u},i=new Date(((j=s.original.crd.metadata)==null?void 0:j.creationTimestamp)||"").getTime(),{days:l,hours:c,minutes:o,seconds:r}=t(i),h=a(l,c,o,r);return e.jsx("div",{className:"w-fit",children:h})}},{id:"actions",cell:({row:s})=>e.jsx(Rs,{row:s})}];function sa({table:s}){return e.jsxs("div",{className:"flex items-center justify-between overflow-clip px-2",style:{overflowClipMargin:1},children:[e.jsxs("div",{className:"hidden flex-1 text-sm text-muted-foreground sm:block",children:[s.getFilteredSelectedRowModel().rows.length," of"," ",s.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"flex items-center sm:space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"hidden text-sm font-medium sm:block",children:"Rows per page"}),e.jsxs(Fe,{value:`${s.getState().pagination.pageSize}`,onValueChange:t=>{s.setPageSize(Number(t))},children:[e.jsx(Je,{className:"h-8 w-[70px]",children:e.jsx(Ee,{placeholder:s.getState().pagination.pageSize})}),e.jsx($e,{side:"top",children:[5,10,20,30,40,50].map(t=>e.jsx(B,{value:`${t}`,children:t},t))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",s.getState().pagination.pageIndex+1," of"," ",s.getPageCount()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(b,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(Cs,{className:"h-4 w-4"})]}),e.jsxs(b,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(Ds,{className:"h-4 w-4"})]}),e.jsxs(b,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(Ts,{className:"h-4 w-4"})]}),e.jsxs(b,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(ks,{className:"h-4 w-4"})]})]})]})]})}function aa({table:s}){return e.jsxs(ne,{modal:!1,children:[e.jsx(_e,{asChild:!0,children:e.jsxs(b,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[e.jsx(Os,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsxs(le,{align:"end",className:"w-[150px]",children:[e.jsx(Ke,{children:"Toggle columns"}),e.jsx(ve,{}),s.getAllColumns().filter(t=>typeof t.accessorFn<"u"&&t.getCanHide()).map(t=>e.jsx(Le,{className:"capitalize",checked:t.getIsVisible(),onCheckedChange:a=>t.toggleVisibility(!!a),children:t.id},t.id))]})]})}function ia({column:s,title:t,options:a}){const i=s==null?void 0:s.getFacetedUniqueValues(),l=new Set(s==null?void 0:s.getFilterValue());return e.jsxs(Ls,{children:[e.jsx(qs,{asChild:!0,children:e.jsxs(b,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(Ms,{className:"mr-2 h-4 w-4"}),t,(l==null?void 0:l.size)>0&&e.jsxs(e.Fragment,{children:[e.jsx(qe,{orientation:"vertical",className:"mx-2 h-4"}),e.jsx(E,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:l.size}),e.jsx("div",{className:"hidden space-x-1 lg:flex",children:l.size>2?e.jsxs(E,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[l.size," selected"]}):a.filter(c=>l.has(c.value)).map(c=>e.jsx(E,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:c.label},c.value))})]})]})}),e.jsx(Gs,{className:"w-[200px] p-0",align:"start",children:e.jsxs(Ge,{children:[e.jsx(Be,{placeholder:t}),e.jsxs(Ye,{children:[e.jsx(Ze,{children:"No results found."}),e.jsx(re,{children:a.map(c=>{const o=l.has(c.value);return e.jsxs(oe,{onSelect:()=>{o?l.delete(c.value):l.add(c.value);const r=Array.from(l);s==null||s.setFilterValue(r.length?r:void 0)},children:[e.jsx("div",{className:ee("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",o?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(Is,{className:ee("h-4 w-4")})}),c.icon&&e.jsx(c.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:c.label}),(i==null?void 0:i.get(c.value))&&e.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:i.get(c.value)})]},c.value)})}),l.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(Qe,{}),e.jsx(re,{children:e.jsx(oe,{onSelect:()=>s==null?void 0:s.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}const ta=({fetchData:s})=>{const{setOpen:t}=L();return e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{variant:"outline",className:"space-x-1",onClick:()=>t("import"),children:[e.jsx("span",{children:"Import"})," ",e.jsx(Bs,{size:18})]}),e.jsxs(b,{className:"space-x-1",variant:"outline",onClick:()=>t("create"),children:[e.jsx("span",{children:"Create"})," ",e.jsx(Ys,{size:18})]}),e.jsx(b,{onClick:s,variant:"outline",children:"刷新"})]})};function na({table:s,originalData:t,fetchData:a}){var c;const i=s.getState().columnFilters.length>0,l=[...new Set(t.map(o=>{var r;return(r=o.crd)==null?void 0:r.metadata.namespace}))].map(o=>({value:o,label:o}));return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col-reverse items-start gap-y-2 sm:flex-row sm:items-center sm:space-x-2",children:[e.jsx(Y,{placeholder:"Filter tasks...",value:((c=s.getColumn("name"))==null?void 0:c.getFilterValue())??"",onChange:o=>{var r;return(r=s.getColumn("name"))==null?void 0:r.setFilterValue(o.target.value)},className:"h-8 w-[150px] lg:w-[250px]"}),e.jsx("div",{className:"flex gap-x-2",children:s.getColumn("namespace")&&e.jsx(ia,{column:s.getColumn("namespace"),title:"命名空间筛选",options:l})}),i&&e.jsxs(b,{variant:"ghost",onClick:()=>s.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(Ps,{className:"ml-2 h-4 w-4"})]})]}),e.jsx(aa,{table:s}),e.jsx(ta,{fetchData:a})]})}function la({columns:s,data:t,fetchData:a}){var x;const[i,l]=v.useState({}),[c,o]=v.useState({}),[r,h]=v.useState([]),[j,m]=v.useState([]),p=Es({data:t,columns:s,state:{sorting:j,columnVisibility:c,rowSelection:i,columnFilters:r},enableRowSelection:!0,onRowSelectionChange:l,onSortingChange:m,onColumnFiltersChange:h,onColumnVisibilityChange:o,getCoreRowModel:_s(),getFilteredRowModel:Us(),getPaginationRowModel:Hs(),getSortedRowModel:zs(),getFacetedRowModel:Vs(),getFacetedUniqueValues:$s()});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(na,{table:p,originalData:t,fetchData:a}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(P,{children:[e.jsx(A,{children:p.getHeaderGroups().map(N=>e.jsx(g,{children:N.headers.map(u=>e.jsx(f,{colSpan:u.colSpan,children:u.isPlaceholder?null:pe(u.column.columnDef.header,u.getContext())},u.id))},N.id))}),e.jsx(F,{children:(x=p.getRowModel().rows)!=null&&x.length?p.getRowModel().rows.map(N=>e.jsx(g,{"data-state":N.getIsSelected()&&"selected",children:N.getVisibleCells().map(u=>e.jsx(d,{children:pe(u.column.columnDef.cell,u.getContext())},u.id))},N.id)):e.jsx(g,{children:e.jsx(d,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(sa,{table:p})]})}const da=n.object({file:n.instanceof(FileList).refine(s=>s.length>0,{message:"Please upload a file"}).refine(s=>{var t;return["text/csv"].includes((t=s==null?void 0:s[0])==null?void 0:t.type)},"Please upload csv format.")});function ca({open:s,onOpenChange:t}){const a=We({resolver:Xe(da),defaultValues:{file:void 0}}),i=a.register("file"),l=()=>{const c=a.getValues("file");if(c&&c[0]){const o={name:c[0].name,size:c[0].size,type:c[0].type};y({title:"You have imported the following file:",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify(o,null,2)})})})}t(!1)};return e.jsx(we,{open:s,onOpenChange:c=>{t(c),a.reset()},children:e.jsxs(Re,{className:"gap-2 sm:max-w-sm",children:[e.jsxs(es,{className:"text-left",children:[e.jsx(ss,{children:"Import Tasks"}),e.jsx(as,{children:"Import tasks quickly from a CSV file."})]}),e.jsx(is,{...a,children:e.jsx("form",{id:"task-import-form",onSubmit:a.handleSubmit(l),children:e.jsx(ts,{control:a.control,name:"file",render:()=>e.jsxs(ns,{className:"mb-2 space-y-1",children:[e.jsx(ls,{children:"File"}),e.jsx(ds,{children:e.jsx(Y,{type:"file",...i,className:"h-8"})}),e.jsx(cs,{})]})})})}),e.jsxs(rs,{className:"gap-2 sm:gap-0",children:[e.jsx(os,{asChild:!0,children:e.jsx(b,{variant:"outline",children:"Close"})}),e.jsx(b,{type:"submit",form:"task-import-form",children:"Import"})]})]})})}const ra=[{month:"January",desktop:186,mobile:80},{month:"February",desktop:305,mobile:200},{month:"March",desktop:237,mobile:120},{month:"April",desktop:73,mobile:190},{month:"May",desktop:209,mobile:130},{month:"June",desktop:214,mobile:140}],oa={desktop:{label:"Desktop",color:"#2563eb"},mobile:{label:"Mobile",color:"#60a5fa"}};function ma(){return e.jsxs(e.Fragment,{children:[e.jsx(Zs,{config:oa,className:"min-h-[200px] w-full",children:e.jsxs(ms,{accessibilityLayer:!0,data:ra,children:[e.jsx(me,{dataKey:"desktop",fill:"var(--color-desktop)",radius:4}),e.jsx(me,{dataKey:"mobile",fill:"var(--color-mobile)",radius:4})]})}),e.jsxs(C,{className:"h-full border rounded-md",children:[e.jsxs(k,{children:[e.jsx(O,{children:"Create project"}),e.jsx(M,{children:"Deploy your new project in one-click."})]}),e.jsx(I,{children:e.jsx("form",{children:e.jsxs("div",{className:"grid w-full items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col space-y-1.5",children:[e.jsx(se,{htmlFor:"name",children:"Name"}),e.jsx(Y,{id:"name",placeholder:"Name of your project"})]}),e.jsxs("div",{className:"flex flex-col space-y-1.5",children:[e.jsx(se,{htmlFor:"framework",children:"Framework"}),e.jsxs(Fe,{children:[e.jsx(Je,{id:"framework",children:e.jsx(Ee,{placeholder:"Select"})}),e.jsxs($e,{position:"popper",children:[e.jsx(B,{value:"next",children:"Next.js"}),e.jsx(B,{value:"sveltekit",children:"SvelteKit"}),e.jsx(B,{value:"astro",children:"Astro"}),e.jsx(B,{value:"nuxt",children:"Nuxt.js"})]})]})]})]})})}),e.jsxs(G,{className:"flex justify-between",children:[e.jsx(b,{variant:"outline",children:"Cancel"}),e.jsx(b,{children:"Deploy"})]})]})]})}const ha={apiVersion:"batch/v1",kind:"Job",metadata:{annotations:{"batch.kubernetes.io/job-tracking":""},creationTimestamp:"2025-05-06T06:50:00Z",generation:1,labels:{"job-name":"hello-job01"},name:"hello-job01",namespace:"default"},spec:{backoffLimit:6,completionMode:"NonIndexed",completions:1,parallelism:1,selector:{matchLabels:{"job-name":"hello-job01"}},suspend:!1,template:{metadata:{creationTimestamp:null,labels:{"job-name":"hello-job01"}},spec:{containers:[{args:["/bin/sh","-c","date; echo Hello from the Kubernetes cluster"],image:"busybox:1.28",imagePullPolicy:"IfNotPresent",name:"hello",resources:{},terminationMessagePath:"/dev/termination-log",terminationMessagePolicy:"File"}],dnsPolicy:"ClusterFirst",restartPolicy:"OnFailure",schedulerName:"default-scheduler",securityContext:{},terminationGracePeriodSeconds:30}}},status:{active:1,ready:0,startTime:"2025-05-06T06:50:00Z",uncountedTerminatedPods:{}}};function ue({open:s,onOpenChange:t,currentRow:a}){const i=!!a,[l,c]=v.useState(""),[o,r]=v.useState(""),[h,j]=v.useState(!1);v.useEffect(()=>{a!=null&&a.raw&&c(JSON.stringify(a.raw,null,2)),r(JSON.stringify(ha,null,2))},[a]);const m=()=>{try{if(!(a!=null&&a.namespace)||!(a!=null&&a.name)){y({title:"更新失败",description:"缺少必要的Pod信息",variant:"destructive"});return}const x={group:"batch",version:"v1",resource:"jobs",namespace:a.namespace,name:a.name,data:JSON.parse(l)};fetch("/api/gvr",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}).then(N=>{if(!N.ok)throw new Error("更新失败");return N.json()}).then(N=>{y({title:"更新成功",description:"Pod配置已更新"}),t(!1)}).catch(N=>{y({title:"更新失败",description:"请检查网络连接或联系管理员",variant:"destructive"})})}catch{y({title:"JSON格式错误",description:"请检查JSON格式是否正确",variant:"destructive"})}},p=()=>{try{const x=JSON.parse(o);x.metadata.name===""&&y({title:"缺少必要条件",description:"metdata.name 不能为空"});const N={group:"batch",version:"v1",resource:"jobs",namespace:x.metadata.namespace===""?"default":x.metadata.namespace,name:x.metadata.name,data:x};fetch("/api/gvr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}).then(u=>{if(!u.ok)throw new Error("新增失败");return u.json()}).then(u=>{y({title:"新增成功",description:"Pod配置已新增"}),t(!1)}).catch(u=>{y({title:"新增失败",description:"请检查网络连接或联系管理员",variant:"destructive"})})}catch{y({title:"JSON格式错误",description:"请检查JSON格式是否正确",variant:"destructive"})}};return e.jsx(Te,{open:s,onOpenChange:x=>{t(x)},children:e.jsxs(ke,{side:"right",className:"w-[50%] sm:max-w-[90%] flex flex-col overflow-y-auto",children:[e.jsxs(Oe,{className:"text-left",children:[e.jsxs(Me,{children:[i?"更新":"创建"," Job"]}),e.jsx(Ie,{children:i?"更新Job配置信息":"创建新的Job配置"})]}),i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx(b,{variant:"outline",onClick:()=>j(!h),children:h?"切换到视图模式":"切换到编辑模式"})}),h?e.jsx(ie,{value:l,onChange:x=>c(x.target.value),className:"flex-1 font-mono resize-none",placeholder:"请输入JSON数据..."}):e.jsx(Ve,{src:(a==null?void 0:a.raw)||{},enableClipboard:!0,displayDataTypes:!1,name:!1})]}):e.jsx(ie,{value:o,onChange:x=>{r(x.target.value)},className:"flex-1 font-mono resize-none",placeholder:"请输入JOB配置..."}),e.jsxs(Pe,{className:"gap-2 mt-4",children:[e.jsx(Ae,{asChild:!0,children:e.jsx(b,{variant:"outline",children:"关闭"})}),i?h&&e.jsx(b,{form:"tasks-form",onClick:m,children:"更新配置"}):e.jsx(b,{form:"tasks-form",onClick:p,children:"新建"})]})]})})}function xa({open:s,onOpenChange:t,podName:a,namespace:i,containerName:l}){const c=`/ws/logs/html/${i}/${a}/${l}`;return e.jsx(de,{open:s,onOpenChange:t,children:e.jsx(ce,{className:"h-[80vh] mt-0",children:e.jsx("div",{className:"w-full h-full",children:e.jsx("iframe",{src:c,className:"w-full h-full rounded-md border",style:{minHeight:"500px"}})})})})}function ja({open:s,onOpenChange:t,podName:a,namespace:i,containerName:l}){const c=`/ws/ssh/html/${i}/${a}/${l}`;return e.jsx(de,{open:s,onOpenChange:t,children:e.jsx(ce,{className:"h-[80vh] mt-0",children:e.jsx("div",{className:"w-full h-full",children:e.jsx("iframe",{src:c,className:"w-full h-full rounded-md",style:{minHeight:"500px"}})})})})}function pa(){return e.jsxs("div",{className:"*:data-[slot=card]:from-primary/5 *:data-[slot=card]:to-card dark:*:data-[slot=card]:bg-card grid grid-cols-1 gap-4 px-4 *:data-[slot=card]:bg-gradient-to-t *:data-[slot=card]:shadow-xs lg:px-6 @xl/main:grid-cols-2 @5xl/main:grid-cols-4",children:[e.jsxs(C,{className:"@container/card",children:[e.jsxs(k,{children:[e.jsx(M,{children:"Total Revenue"}),e.jsx(O,{className:"text-2xl font-semibold tabular-nums @[250px]/card:text-3xl",children:"$1,250.00"}),e.jsx(W,{children:e.jsxs(E,{variant:"outline",children:[e.jsx(U,{}),"+12.5%"]})})]}),e.jsxs(G,{className:"flex-col items-start gap-1.5 text-sm",children:[e.jsxs("div",{className:"line-clamp-1 flex gap-2 font-medium",children:["Trending up this month ",e.jsx(U,{className:"size-4"})]}),e.jsx("div",{className:"text-muted-foreground",children:"Visitors for the last 6 months"})]})]}),e.jsxs(C,{className:"@container/card",children:[e.jsxs(k,{children:[e.jsx(M,{children:"New Customers"}),e.jsx(O,{className:"text-2xl font-semibold tabular-nums @[250px]/card:text-3xl",children:"1,234"}),e.jsx(W,{children:e.jsxs(E,{variant:"outline",children:[e.jsx(fe,{}),"-20%"]})})]}),e.jsxs(G,{className:"flex-col items-start gap-1.5 text-sm",children:[e.jsxs("div",{className:"line-clamp-1 flex gap-2 font-medium",children:["Down 20% this period ",e.jsx(fe,{className:"size-4"})]}),e.jsx("div",{className:"text-muted-foreground",children:"Acquisition needs attention"})]})]}),e.jsxs(C,{className:"@container/card",children:[e.jsxs(k,{children:[e.jsx(M,{children:"Active Accounts"}),e.jsx(O,{className:"text-2xl font-semibold tabular-nums @[250px]/card:text-3xl",children:"45,678"}),e.jsx(W,{children:e.jsxs(E,{variant:"outline",children:[e.jsx(U,{}),"+12.5%"]})})]}),e.jsxs(G,{className:"flex-col items-start gap-1.5 text-sm",children:[e.jsxs("div",{className:"line-clamp-1 flex gap-2 font-medium",children:["Strong user retention ",e.jsx(U,{className:"size-4"})]}),e.jsx("div",{className:"text-muted-foreground",children:"Engagement exceed targets"})]})]}),e.jsxs(C,{className:"@container/card",children:[e.jsxs(k,{children:[e.jsx(M,{children:"Growth Rate"}),e.jsx(O,{className:"text-2xl font-semibold tabular-nums @[250px]/card:text-3xl",children:"4.5%"}),e.jsx(W,{children:e.jsxs(E,{variant:"outline",children:[e.jsx(U,{}),"+4.5%"]})})]}),e.jsxs(G,{className:"flex-col items-start gap-1.5 text-sm",children:[e.jsxs("div",{className:"line-clamp-1 flex gap-2 font-medium",children:["Steady performance increase ",e.jsx(U,{className:"size-4"})]}),e.jsx("div",{className:"text-muted-foreground",children:"Meets growth projections"})]})]})]})}function fa({currentRow:s}){const t=v.useMemo(()=>!s||!s.crd||!s.crd.spec?[]:s.crd.spec.template.spec.containers.map((i,l)=>{var c;return e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:i.name}),e.jsx(d,{className:"font-medium",children:i.imagePullPolicy}),e.jsx(d,{className:"font-medium",children:e.jsx("div",{className:"w-48 truncate hover:whitespace-normal",children:i.image})}),e.jsx(d,{children:e.jsx("div",{className:"w-48 truncate hover:whitespace-normal",children:i.command?i.command.join(" "):"-"})}),e.jsx(d,{children:e.jsx("div",{className:"w-48 truncate hover:whitespace-normal",children:i.args?i.args.join(" "):"-"})}),e.jsx(d,{className:"font-medium",children:s.crd.status.conditions?s.crd.status.conditions[0].reason:"-"}),e.jsx(d,{className:"font-medium",children:e.jsx("div",{className:"w-48",children:Object.entries((c=s==null?void 0:s.crd)==null?void 0:c.spec.selector.matchLabels).map(([o,r])=>`${o}=${r}`).reduce((o,r)=>`${o}, ${r}`)})}),e.jsx(d,{className:"font-medium",children:e.jsx("div",{className:"w-48 truncate hover:whitespace-normal",children:s.crd.status.failed===void 0?"-":s.crd.status.failed})}),e.jsx(d,{className:"font-medium",children:e.jsx("div",{className:"w-48 truncate hover:whitespace-normal",children:s.crd.status.succeeded===void 0?"-":s.crd.status.succeeded})}),e.jsx(d,{className:"font-medium",children:e.jsx("div",{className:"w-48 truncate hover:whitespace-normal",children:s.crd.status.ready===void 0?"-":s.crd.status.ready})}),e.jsx(d,{className:"font-medium",children:s.crd.spec.template.spec.schedulerName})]},`${i.name}-${l}`)}),[s]);return e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(O,{children:s==null?void 0:s.crd.metadata.name}),e.jsxs(M,{children:["命名空间：",s==null?void 0:s.crd.metadata.namespace]})]}),e.jsx(I,{className:"space-y-2",children:e.jsxs(P,{children:[e.jsx(Ks,{children:"容器详情"}),e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{children:"Name"}),e.jsx(f,{children:"ImagePullPolicy"}),e.jsx(f,{children:"Image"}),e.jsx(f,{children:"Command"}),e.jsx(f,{children:"Args"}),e.jsx(f,{children:"REASON"}),e.jsx(f,{children:"Selector"}),e.jsx(f,{children:"FAILED"}),e.jsx(f,{children:"SUCCEEDED"}),e.jsx(f,{children:"READY"}),e.jsx(f,{children:"SchedulerName"})]})}),e.jsx(F,{children:t})]})})]})}function K({types:s,kind:t,name:a,namespace:i,keys:l,values:c}){const{currentRow:o,setCurrentRow:r}=L(),[h,j]=v.useState(""),[m,p]=v.useState(""),x=async()=>{if(!m||!h){y({title:"键或值不能为空",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify({key:m,value:h},null,2)})})});return}try{if(t==="label"){const S=await _.patch("/api/gvr/patchstrate",{group:"batch",version:"v1",resource:"jobs",name:a,namespace:i,patchdatastrate:{metadata:{labels:{[m]:h}}}}),D={...o,crd:S.data};r(D)}else if(t==="annotation"){const S=await _.patch("/api/gvr/patchstrate",{group:"batch",version:"v1",resource:"jobs",name:a,namespace:i,patchdatastrate:{metadata:{annotations:{[m]:h}}}}),D={...o,crd:S.data};r(D)}y({title:"请求成功",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify({key:m,value:h},null,2)})})})}catch(S){y({title:"请求接口出错",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify(S,null,2)})})})}},N=async()=>{var S,D;if(!m){y({title:"键不能为空",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify({key:m},null,2)})})});return}if(window.confirm(`确定要删除键 ${m} 吗？`))try{if(t==="label"){const T={...o};(S=T.metadata)!=null&&S.labels&&delete T.metadata.labels[m];const $=await _.patch("/api/gvr/patchstrate",{group:"batch",version:"v1",resource:"jobs",name:a,namespace:i,patchdatastrate:{metadata:{labels:{[m]:null}}}}),J={...o,crd:$.data};r(J)}else if(t==="annotation"){const T={...o};(D=T.metadata)!=null&&D.annotations&&delete T.metadata.annotations[m];const $=await _.patch("/api/gvr/patchstrate",{group:"batch",version:"v1",resource:"jobs",name:a,namespace:i,patchdatastrate:{metadata:{annotations:{[m]:null}}}}),J={...o,crd:$.data};r(J)}y({title:"删除成功",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify({key:m,value:h},null,2)})})})}catch(T){y({title:"请求接口出错",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify(T,null,2)})})})}};v.useEffect(()=>{j(c),p(l)},[c,l]);const u=()=>{s==="add"||s==="edit"?x():s==="delete"&&N()};return e.jsxs(Te,{children:[e.jsx(hs,{asChild:!0,children:s==="edit"?e.jsx(b,{size:"sm",variant:"link",className:"w-20 text-blue-300 hover:text-blue-500",onClick:x,children:"编辑"}):s==="delete"?e.jsx(b,{size:"sm",variant:"link",className:"w-20 text-red-300 hover:text-red-500",onClick:N,children:"删除"}):s==="add"?e.jsx(b,{size:"sm",variant:"link",className:"w-20 text-green-300 hover:text-green-500",onClick:x,children:"添加"}):null}),e.jsxs(ke,{side:"top",children:[e.jsxs(Oe,{children:[e.jsxs(Me,{children:[s==="edit"?"编辑":s==="add"?"添加":s==="delete"?"删除":null," 节点 ",a," ",t==="label"?"标签":t==="annotation"?"注释":""]}),e.jsxs(Ie,{children:["新增节点 ",a," ",t==="label"?"标签":t==="annotation"?"注释":"","，请填写相关信息。",s==="edit"?"编辑节点":s==="add"?"添加节点":s==="delete"?"删除节点":null," ",a," ",t==="label"?"标签":t==="annotation"?"注释":"","，请填写相关信息。"]})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(se,{htmlFor:"name",className:"text-right",children:"键"}),e.jsx(Y,{id:"name",value:m,disabled:s!=="add",onChange:S=>p(S.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(se,{htmlFor:"username",className:"text-right",children:"值"}),e.jsx(Y,{id:"username",value:h,onChange:S=>j(S.target.value),className:"col-span-3"})]})]}),e.jsx(Pe,{children:e.jsx(Ae,{asChild:!0,children:e.jsx(b,{type:"submit",onClick:u,children:"提交"})})})]})]})}function ga({currentRow:s}){const t=v.useMemo(()=>!s||!s.crd||!s.crd.metadata.labels?[]:Object.entries(s.crd.metadata.labels).map(([a,i])=>{var l,c,o,r,h,j,m,p;return e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:a}),e.jsx(d,{children:i}),e.jsx(d,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(K,{types:"edit",kind:"label",name:((c=(l=s==null?void 0:s.crd)==null?void 0:l.metadata)==null?void 0:c.name)||"",namespace:((r=(o=s==null?void 0:s.crd)==null?void 0:o.metadata)==null?void 0:r.namespace)||"",keys:a,values:typeof i=="string"?i:""}),e.jsx(K,{types:"delete",kind:"label",name:((j=(h=s==null?void 0:s.crd)==null?void 0:h.metadata)==null?void 0:j.name)||"",namespace:((p=(m=s==null?void 0:s.crd)==null?void 0:m.metadata)==null?void 0:p.namespace)||"",keys:a,values:typeof i=="string"?i:""})]})})]},a)}),[s]);return e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsxs(O,{children:[s==null?void 0:s.crd.metadata.name,e.jsx(K,{types:"add",kind:"label",name:s?s.crd.metadata.name:"",namespace:s?s.crd.metadata.namespace:"",keys:"",values:""})]}),e.jsxs(M,{children:["命名空间：",s==null?void 0:s.crd.metadata.namespace]})]}),e.jsx(I,{className:"space-y-2",children:e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{className:"w-[50%]",children:"键"}),e.jsx(f,{className:"w-[50%]",children:"值"})]})}),e.jsx(F,{children:t})]})})]})}function ua({currentRow:s}){const t=v.useMemo(()=>!s||!s.crd||!s.crd.metadata.annotations?[]:Object.entries(s.crd.metadata.annotations).map(([a,i])=>{var l,c,o,r,h,j,m,p;return e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:a}),e.jsx(d,{children:i}),e.jsx(d,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(K,{types:"edit",kind:"annotation",name:((c=(l=s==null?void 0:s.crd)==null?void 0:l.metadata)==null?void 0:c.name)||"",namespace:((r=(o=s==null?void 0:s.crd)==null?void 0:o.metadata)==null?void 0:r.namespace)||"",keys:a,values:typeof i=="string"?i:""}),e.jsx(K,{types:"delete",kind:"annotation",name:((j=(h=s==null?void 0:s.crd)==null?void 0:h.metadata)==null?void 0:j.name)||"",namespace:((p=(m=s==null?void 0:s.crd)==null?void 0:m.metadata)==null?void 0:p.namespace)||"",keys:a,values:typeof i=="string"?i:""})]})})]},a)}),[s]);return e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsxs(O,{children:[s==null?void 0:s.crd.metadata.name,e.jsx(K,{types:"add",kind:"annotation",name:s?s.crd.metadata.name:"",namespace:s?s.crd.metadata.namespace:"",keys:"",values:""})]}),e.jsxs(M,{children:["命名空间：",s==null?void 0:s.crd.metadata.namespace]})]}),e.jsx(I,{className:"space-y-2",children:e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{className:"w-[50%]",children:"键"}),e.jsx(f,{className:"w-[50%]",children:"值"})]})}),e.jsx(F,{children:t})]})})]})}function Na({currentRow:s}){const t=v.useMemo(()=>!s||!s.crd||!s.crd.status||!s.crd.status.conditions?[]:Object.entries(s.crd.status.conditions).map((i,l)=>e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:i[1].type}),e.jsx(d,{children:i[1].status==="True"?e.jsx(ae,{className:"h-4 w-4 text-green-500"}):e.jsx(te,{className:"h-4 w-4 text-gray-400"})}),e.jsx(d,{children:i[1].lastTransitionTime})]},l)),[s]),a=v.useMemo(()=>{if(!s||!s.crd||!s.crd.status)return[];const i=[];return s.crd.status.availableReplicas&&i.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"currentNumberScheduled"}),e.jsx(d,{children:s.crd.status.currentNumberScheduled}),e.jsx(d,{children:"-"})]},"currentNumberScheduled")),s.crd.status.numberMisscheduled&&i.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"numberMisscheduled"}),e.jsx(d,{children:s.crd.status.numberMisscheduled}),e.jsx(d,{children:"-"})]},"numberMisscheduled")),s.crd.status.desiredNumberScheduled&&i.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"desiredNumberScheduled"}),e.jsx(d,{children:s.crd.status.desiredNumberScheduled}),e.jsx(d,{children:"-"})]},"desiredNumberScheduled")),s.crd.status.numberReady&&i.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"numberReady"}),e.jsx(d,{children:s.crd.status.numberReady}),e.jsx(d,{children:"-"})]},"numberReady")),s.crd.status.numberUnavailable&&i.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"numberUnavailable"}),e.jsx(d,{children:s.crd.status.numberUnavailable}),e.jsx(d,{children:"-"})]},"numberUnavailable")),s.crd.status.numberAvailable&&i.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"numberAvailable"}),e.jsx(d,{children:s.crd.status.numberAvailable}),e.jsx(d,{children:"-"})]},"numberAvailable")),s.crd.status.collisionCount&&i.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"collisionCount"}),e.jsx(d,{children:s.crd.status.collisionCount}),e.jsx(d,{children:"-"})]},"collisionCount")),s.crd.status.observedGeneration&&i.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"observedGeneration"}),e.jsx(d,{children:s.crd.status.observedGeneration}),e.jsx(d,{children:"-"})]},"observedGeneration")),s.crd.status.updatedNumberScheduled&&i.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"updatedNumberScheduled"}),e.jsx(d,{children:s.crd.status.updatedNumberScheduled}),e.jsx(d,{children:"-"})]},"updatedNumberScheduled")),i},[s]);return e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(O,{children:s==null?void 0:s.crd.metadata.name}),e.jsxs(M,{children:["命名空间：",s==null?void 0:s.crd.metadata.namespace]})]}),e.jsx(I,{className:"space-y-2",children:e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{className:"w-[30%]",children:"Condition"}),e.jsx(f,{className:"w-[30%]",children:"Status"}),e.jsx(f,{className:"w-[40%]",children:"Timestamp"})]})}),e.jsxs(F,{children:[t,a]})]})})]})}function va({currentRow:s}){const t=v.useMemo(()=>!s||!s.raw||!s.raw.status?[]:Object.entries(s.raw.status).map(([a,i])=>e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:a}),e.jsx(d,{children:JSON.stringify(i)})]},a)),[s]);return e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(O,{children:s==null?void 0:s.raw.metadata.name}),e.jsxs(M,{children:["命名空间：",s==null?void 0:s.raw.metadata.namespace]})]}),e.jsx(I,{className:"space-y-2",children:e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{className:"w-[100px]",children:"属性"}),e.jsx(f,{children:"值"})]})}),e.jsxs(F,{children:[s&&Object.entries(s.raw.metadata).map(([a,i])=>e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:a}),e.jsx(d,{children:JSON.stringify(i)})]},a)),t,s&&Object.entries(s.raw.spec).map(([a,i])=>a!=="containers"&&e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:a}),e.jsx(d,{children:JSON.stringify(i)})]},a))]})]})})]}),e.jsxs(C,{className:"mt-4",children:[e.jsxs(k,{children:[e.jsx(O,{children:"Container信息"}),e.jsx(M,{children:"Container原始信息展示"})]}),e.jsx(I,{className:"space-y-2",children:e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{className:"w-[100px]",children:"属性"}),e.jsx(f,{className:"w-[auto]",children:"值"})]})}),e.jsx(F,{children:s&&s.raw.spec.containers.map((a,i)=>Object.entries(a).map(([l,c])=>e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:l}),e.jsx(d,{children:e.jsx(ye,{children:e.jsxs(Se,{children:[e.jsx(Ce,{children:e.jsx("div",{className:"whitespace-pre-wrap break-all",children:JSON.stringify(c)})}),e.jsx(De,{className:"whitespace-pre-wrap break-all",children:JSON.stringify(c)})]})})})]},`${i}-${l}`)))})]})})]})]})}const ba=s=>s.emptyDir?"emptyDir":s.persistentVolumeClaim?"persistenVolumeClaim":s.configMap?"configMap":s.secret?"secret":s.projected?"projected":"Unknown";function ya({currentRow:s}){var i;const t=v.useMemo(()=>!s||!s.raw||!s.raw.metadata.ownerReferences?[]:Object.entries(s.raw.metadata.ownerReferences).map((l,c)=>e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:l[1].name}),e.jsx(d,{className:"font-medium",children:l[1].kind}),e.jsx(d,{children:l[1].controller?e.jsx(ae,{className:"h-4 w-4 text-green-500"}):e.jsx(te,{className:"h-4 w-4 text-gray-400"})}),e.jsx(d,{children:l[1].blockOwnerDeletion?e.jsx(ae,{className:"h-4 w-4 text-green-500"}):e.jsx(te,{className:"h-4 w-4 text-gray-400"})})]},c)),[s]),a=v.useMemo(()=>!s||!s.raw||!s.raw.spec.volumes?[]:Object.entries(s.raw.spec.volumes).map((l,c)=>e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:l[1].name}),e.jsx(d,{className:"font-medium",children:ba(l[1])}),e.jsx(d,{className:"font-medium",children:JSON.stringify(l[1],null,2)})]},c)),[s]);return e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsxs(O,{children:["关联References ",(i=s==null?void 0:s.raw.metadata.ownerReferences)==null?void 0:i.length]}),e.jsx(M,{children:"OwnerReferences"})]}),e.jsx(I,{className:"space-y-2",children:(s==null?void 0:s.raw.metadata.ownerReferences)&&e.jsx("div",{className:"mb-2",children:e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{children:"Name"}),e.jsx(f,{children:"Kind"}),e.jsx(f,{children:"Controller"}),e.jsx(f,{children:"是否集联删除"})]})}),e.jsx(F,{children:t})]})})})]}),e.jsxs(C,{className:"mt-4",children:[e.jsxs(k,{children:[e.jsxs(O,{children:["引用资源 ",s==null?void 0:s.raw.spec.volumes.length]}),e.jsx(M,{children:"磁盘卷配置"})]}),e.jsx(I,{className:"space-y-2",children:(s==null?void 0:s.raw.spec.volumes)&&e.jsx("div",{className:"mb-2",children:e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{children:"Name"}),e.jsx(f,{children:"Kind"}),e.jsx(f,{children:"Detail"})]})}),e.jsx(F,{children:a})]})})})]}),e.jsx(va,{currentRow:s})]})}function Sa({currentRow:s}){const t=v.useMemo(()=>{if(!s||!s.raw||!s.raw.spec.affinity)return[];const i=s.raw.spec.affinity,l=[];return i.nodeAffinity&&(i.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution&&l.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"节点亲和性"}),e.jsx(d,{className:"font-medium",children:"硬亲和性"}),e.jsx(d,{children:JSON.stringify(i.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution,null,2)})]},"node-affinity-required")),i.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution&&l.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"节点亲和性"}),e.jsx(d,{className:"font-medium",children:"软亲和性"}),e.jsx(d,{children:JSON.stringify(i.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution,null,2)})]},"node-affinity-preferred"))),i.podAffinity&&(i.podAffinity.requiredDuringSchedulingIgnoredDuringExecution&&l.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"Pod亲和性"}),e.jsx(d,{className:"font-medium",children:"硬亲和性"}),e.jsx(d,{children:JSON.stringify(i.podAffinity.requiredDuringSchedulingIgnoredDuringExecution,null,2)})]},"pod-affinity-required")),i.podAffinity.preferredDuringSchedulingIgnoredDuringExecution&&l.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"Pod亲和性"}),e.jsx(d,{className:"font-medium",children:"软亲和性"}),e.jsx(d,{children:JSON.stringify(i.podAffinity.preferredDuringSchedulingIgnoredDuringExecution,null,2)})]},"pod-affinity-preferred"))),i.podAntiAffinity&&(i.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution&&l.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"Pod反亲和性"}),e.jsx(d,{className:"font-medium",children:"硬反亲和性"}),e.jsx(d,{children:JSON.stringify(i.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution,null,2)})]},"pod-anti-affinity-required")),i.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution&&l.push(e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:"Pod反亲和性"}),e.jsx(d,{className:"font-medium",children:"软反亲和性"}),e.jsx(d,{children:JSON.stringify(i.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution,null,2)})]},"pod-anti-affinity-preferred"))),l},[s]),a=v.useMemo(()=>!s||!s.raw||!s.raw.spec.tolerations?[]:s.raw.spec.tolerations.map((i,l)=>e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:i.key||"-"}),e.jsx(d,{className:"font-medium",children:i.operator||"-"}),e.jsx(d,{className:"font-medium",children:i.value||"-"}),e.jsx(d,{className:"font-medium",children:i.effect||"-"}),e.jsx(d,{className:"font-medium",children:i.tolerationSeconds?i.tolerationSeconds:"无限期"})]},l)),[s]);return e.jsxs(e.Fragment,{children:[(s==null?void 0:s.raw.spec.affinity)&&e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(O,{children:s==null?void 0:s.raw.metadata.name}),e.jsxs(M,{children:["命名空间：",s==null?void 0:s.raw.metadata.namespace]})]}),e.jsx(I,{className:"space-y-2",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-lg text-left font-semibold",children:"亲和性配置"}),e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{children:"类型"}),e.jsx(f,{children:"亲和性类型"}),e.jsx(f,{children:"配置详情"})]})}),e.jsx(F,{children:t})]})]})})]}),e.jsxs(C,{className:"mt-4",children:[e.jsxs(k,{children:[e.jsx(O,{children:s==null?void 0:s.raw.metadata.name}),e.jsxs(M,{children:["命名空间：",s==null?void 0:s.raw.metadata.namespace]})]}),e.jsx(I,{className:"space-y-2",children:(s==null?void 0:s.raw.spec.tolerations)&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("h3",{className:"text-lg text-left font-semibold",children:["容忍度配置 ",s==null?void 0:s.raw.spec.tolerations.length]}),e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{children:"Key"}),e.jsx(f,{children:"Operator"}),e.jsx(f,{children:"Value"}),e.jsx(f,{children:"Effect"}),e.jsx(f,{children:"容忍时间(秒)"})]})}),e.jsx(F,{children:a})]})]})})]})]})}function Ca({currentRow:s}){const[t,a]=v.useState([]),i=async()=>{var r,h,j,m;try{const p=await _.post("/api/gvr/list",{group:"",version:"v1",resource:"events",listoptions:{fieldSelector:`involvedObject.name=${(h=(r=s==null?void 0:s.raw)==null?void 0:r.metadata)==null?void 0:h.name},involvedObject.namespace=${(m=(j=s==null?void 0:s.raw)==null?void 0:j.metadata)==null?void 0:m.namespace}`,limit:1e3,sortBy:"lastTimestamp",sortOrder:"desc"}});a(p.data.items)}catch(p){y({title:"请求接口出错",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify(p,null,2)})})})}},l=r=>{const j=Date.now()-r,m=24*3600*1e3,p=3600*1e3,x=60*1e3,N=Math.floor(j/m),u=j%m,S=Math.floor(u/p),D=u%p,T=Math.floor(D/x),$=D%x,J=Math.round($/1e3);return{days:N,hours:S,minutes:T,seconds:J}},c=(r,h,j,m)=>{let p="";return r>0&&(p+=`${r}d `),h>0&&(p+=`${h}h `),j>0&&(p+=`${j}m `),m>0&&(p+=`${m}s`),p},o=r=>{const h=new Date(r).getTime(),{days:j,hours:m,minutes:p,seconds:x}=l(h);return c(j,m,p,x)};return v.useEffect(()=>{i()},[]),e.jsxs(C,{children:[t.length>0&&e.jsx(k,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(O,{children:t[0].involvedObject.name}),e.jsxs(M,{children:["命名空间：",t[0].involvedObject.namespace]})]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:i,children:[e.jsx(Qs,{className:"h-4 w-4 mr-2"}),"刷新"]})]})}),e.jsx(I,{className:"space-y-2",children:e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(f,{className:"w-[40px]",children:"Kind"}),e.jsx(f,{className:"w-[100px]",children:"Reason"}),e.jsx(f,{className:"w-[500px]",children:"Message"}),e.jsx(f,{className:"w-[80px]",children:"Source"}),e.jsx(f,{className:"w-[80px]",children:"Type"}),e.jsx(f,{className:"w-[80px]",children:"Age"})]})}),e.jsx(F,{children:t.length>0&&t.map((r,h)=>e.jsxs(g,{children:[e.jsx(d,{children:r.involvedObject.kind}),e.jsx(d,{children:r.reason}),e.jsx(d,{className:"whitespace-pre-wrap break-all max-w-[300px]",children:r.message}),e.jsx(d,{children:r.source.component}),e.jsx(d,{children:r.type}),e.jsx(d,{children:e.jsx("div",{className:"w-fit",children:o(r.lastTimestamp)})})]},h))})]})})]})}function Da({open:s,onOpenChange:t,currentRow:a}){var j,m,p,x,N,u,S,D;const[i,l]=v.useState(!1),[c,o]=v.useState(""),{setCurrentRow:r}=L();v.useEffect(()=>{a!=null&&a.crd&&o(JSON.stringify(a.crd,null,2))},[a]);const h=()=>{var T,$,J,Z;try{const Q={group:"batch",version:"v1",resource:"jobs",namespace:($=(T=a==null?void 0:a.crd)==null?void 0:T.metadata)==null?void 0:$.namespace,name:(Z=(J=a==null?void 0:a.crd)==null?void 0:J.metadata)==null?void 0:Z.name,data:i?JSON.parse(c):a==null?void 0:a.crd};fetch("/api/gvr",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}).then(H=>H.json()).then(H=>{const He={...a,crd:H.data};r(He),y({title:"更新成功",description:"Deployments配置已更新"})}).catch(H=>{y({title:"更新失败",description:"请检查网络连接或联系管理员",variant:"destructive"})})}catch{y({title:"JSON格式错误",description:"请检查JSON格式是否正确",variant:"destructive"})}};return e.jsx(de,{open:s,onOpenChange:t,children:e.jsx(ce,{children:e.jsxs(xs,{defaultValue:"container",className:"w-full",children:[e.jsxs(js,{className:"grid w-full grid-cols-5 gap-2",children:[e.jsxs(q,{value:"container",children:["容器",e.jsx(X,{className:"h-5 w-5 ml-1",children:e.jsx(w,{className:"text-xs",children:((j=a.crd.spec.template.spec.containers)==null?void 0:j.length)||0})})]}),e.jsxs(q,{value:"label",children:["标签",e.jsx(X,{className:"h-5 w-5 ml-1",children:e.jsx(w,{className:"text-xs",children:(p=(m=a==null?void 0:a.crd)==null?void 0:m.metadata)!=null&&p.labels?Object.keys(a.crd.metadata.labels).length:0})})]}),e.jsxs(q,{value:"annotation",children:["注释",e.jsx(X,{className:"h-5 w-5 ml-1",children:e.jsx(w,{className:"text-xs",children:(N=(x=a==null?void 0:a.crd)==null?void 0:x.metadata)!=null&&N.annotations?Object.keys(a.crd.metadata.annotations).length:0})})]}),e.jsxs(q,{value:"status",children:["状态",e.jsx(X,{className:"h-5 w-5 ml-1",children:e.jsx(w,{className:"text-xs",children:(S=(u=a==null?void 0:a.crd)==null?void 0:u.status)!=null&&S.conditions?Object.keys((D=a==null?void 0:a.crd.status)==null?void 0:D.conditions).length:0})})]}),e.jsx(q,{value:"jsondata",children:"查看或编辑"})]}),e.jsx(V,{value:"container",className:"h-[80vh] overflow-y-auto",children:e.jsx(fa,{currentRow:a})}),e.jsx(V,{value:"label",className:"h-[80vh] overflow-y-auto",children:e.jsx(ga,{currentRow:a})}),e.jsx(V,{value:"annotation",className:"h-[80vh] overflow-y-auto",children:e.jsx(ua,{currentRow:a})}),e.jsx(V,{value:"status",className:"h-[80vh] overflow-y-auto",children:e.jsx(Na,{currentRow:a})}),e.jsx(V,{value:"relative",className:"h-[80vh] overflow-y-auto",children:e.jsx(ya,{currentRow:a})}),e.jsx(V,{value:"diaodu",className:"h-[80vh] overflow-y-auto",children:e.jsx(Sa,{currentRow:a})}),e.jsx(V,{value:"event",className:"h-[80vh] overflow-y-auto",children:e.jsx(Ca,{currentRow:a})}),e.jsx(V,{value:"monitor",className:"h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"h-[80vh] grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"rounded-md",children:e.jsx(C,{className:"h-full border rounded-md overflow-y-auto",children:e.jsx(ma,{})})}),e.jsx("div",{className:"rounded-md",children:e.jsx(pa,{})}),e.jsx("div",{className:"rounded-md h-full overflow-y-auto overflow-x-auto bg-gray-800 border border-gray-600",children:e.jsx("pre",{className:"text-white whitespace-pre-wrap h-full p-4",children:e.jsx("code",{children:a?JSON.stringify(a==null?void 0:a.crd,null,2):"currentRow is undefined or null"})})})]})}),e.jsx(V,{value:"jsondata",className:"h-[80vh] overflow-y-auto",children:e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsx(O,{children:a==null?void 0:a.crd.metadata.name}),e.jsxs(M,{children:["命名空间：",a==null?void 0:a.crd.metadata.namespace]})]}),e.jsxs(I,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-end mb-4",children:[i&&e.jsx(b,{variant:"ghost",onClick:h,children:"更新"}),e.jsx(b,{variant:"outline",onClick:()=>l(!i),children:i?"切换到视图模式":"切换到编辑模式"})]}),i?e.jsx(ie,{value:c,onChange:T=>o(T.target.value),className:"min-h-[500px] font-mono",placeholder:"请输入JSON数据..."}):e.jsx(Ve,{src:(a==null?void 0:a.crd)||{},enableClipboard:!0,displayDataTypes:!1,name:!1})]})]})})]})})})}function Ta({fetchData:s}){const{open:t,setOpen:a,currentRow:i,setCurrentRow:l,containerName:c,setContainerName:o}=L(),r=()=>{try{if(!(i!=null&&i.namespace)||!(i!=null&&i.name)){y({title:"更新失败",description:"缺少必要的Pod信息",variant:"destructive"});return}const h={group:"batch",version:"v1",resource:"jobs",namespace:i==null?void 0:i.namespace,name:i==null?void 0:i.name};fetch("/api/gvr",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then(j=>{if(!j.ok)throw new Error("刪除失败");return j.json()}).then(j=>{s(),y({title:"刪除成功",description:`Job ${i==null?void 0:i.name}已刪除`})}).catch(j=>{y({title:"刪除失败",description:"请检查网络连接或联系管理员",variant:"destructive"})})}catch{y({title:"JSON格式错误",description:"请检查JSON格式是否正确",variant:"destructive"})}};return e.jsxs(e.Fragment,{children:[e.jsx(ue,{open:t==="create",onOpenChange:()=>a("create")},"task-create"),e.jsx(ca,{open:t==="import",onOpenChange:()=>a("import")},"tasks-import"),i&&e.jsxs(e.Fragment,{children:[e.jsx(ue,{open:t==="update",onOpenChange:()=>{a("update"),setTimeout(()=>{l(null)},500)},currentRow:i},`task-update-${i.id}`),e.jsx(xa,{open:t==="terminal",onOpenChange:()=>{a(null),o(void 0),setTimeout(()=>{l(null)},500)},podName:i.name,namespace:i.namespace,containerName:c},`pod-terminal-${i.name}`),e.jsx(Da,{open:t==="detail",onOpenChange:()=>{a(null),setTimeout(()=>{l(null)},500)},currentRow:i},`pod-detail-${i.name}`),e.jsx(ja,{open:t==="ssh",onOpenChange:()=>{a(null),o(void 0),setTimeout(()=>{l(null)},500)},podName:i.name,namespace:i.namespace,containerName:c},`pod-ssh-${i.name}`),e.jsx(Js,{destructive:!0,open:t==="delete",onOpenChange:()=>{a("delete"),setTimeout(()=>{l(null)},500)},handleConfirm:()=>{a(null),setTimeout(()=>{l(null)},500),r()},name:i.name,namespace:i.namespace,className:"max-w-md",title:`Delete Job: ${i.namespace}/${i.name} ?`,desc:e.jsxs(e.Fragment,{children:["You are about to delete a Job with the Name"," ",e.jsxs("strong",{children:[i.namespace,"/",i.name]}),". ",e.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Delete"},"task-delete")]})]})}function ka(){const[s,t]=v.useState([]),a=async()=>{try{const i=await _.post("/api/gvr/list",{group:"batch",version:"v1",resource:"jobs",namespace:"",fast:!0});t(i.data)}catch(i){y({title:"请求接口出错",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify(i,null,2)})})})}};return v.useEffect(()=>{a()},[]),e.jsxs(Ws,{children:[e.jsxs(ps,{fixed:!0,children:[e.jsx(fs,{}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsx(gs,{}),e.jsx(us,{})]})]}),e.jsx(Ns,{children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-x-4 space-y-2",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Jobs"}),e.jsx("p",{className:"text-muted-foreground",children:"Job是Kubernetes中用于批处理任务的API对象。它可以确保指定数量的Pod成功终止，并且可以在完成后自动清理。Job通常用于执行一次性任务，例如数据处理、备份等。"})]})}),e.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0 mr-[1px]",children:e.jsx(la,{data:s,columns:ea,fetchData:a})})]})}),e.jsx(Ta,{fetchData:a})]})}const qa=vs("/_authenticated/jobs/")({component:ka});export{qa as Route};
